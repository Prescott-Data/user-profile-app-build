{"version":3,"file":"static/js/app.874ae29b.chunk.js","mappings":"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","sources":["D2App/utils/cacheBuster.js","D2App/locales/index.js","D2App/account/account.actions.js","D2App/account/isValidPassword.js","D2App/account/AccountEditor.component.js","D2App/optionValue.store.js","D2App/settings/userSettings.store.js","D2App/userSettingsMapping.js","D2App/layout/AvatarEditor.component.js","D2App/layout/theme.js","D2App/layout/VerifyEmail.component.js","D2App/layout/FormFields.component.js","D2App/profile/isValidWhatsApp.js","D2App/profile/profile.store.js","D2App/profile/profile.actions.js","D2App/account/Account.component.js","D2App/account/PasswordChangeSuccessDialog.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactor.module.css?7401","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorDisableInstructions.module.css?6598","D2App/account/twoFactor/TwoFactorDisableInstructions.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorDisableNoticeBox.module.css?08a8","D2App/account/twoFactor/TwoFactorDisableNoticeBox.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorEnableInstructions.module.css?fe79","D2App/account/twoFactor/TwoFactorEnableInstructions.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorEnableNotice.module.css?5565","D2App/account/twoFactor/TwoFactorEnableNotice.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorIntroduction.module.css?bc3c","D2App/account/twoFactor/TwoFactorIntroduction.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorStatus.module.css?1e0e","D2App/account/twoFactor/TwoFactorStatus.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorToggler.module.css?bf50","D2App/account/twoFactor/TwoFactorToggler.js","D2App/account/twoFactor/useTwoFaToggleMutation.js","D2App/account/twoFactor/TwoFactor.js","D2App/layout/Snackbar.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/AuthoritiesWarning.module.css?8dd6","D2App/personalAccessTokens/generateTokenModal/AuthoritiesWarning.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/AllowedMethodsFF.module.css?d58e","D2App/personalAccessTokens/generateTokenModal/AllowedMethodsFF.component.js","D2App/personalAccessTokens/generateTokenModal/AllowedReferrersFF.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/ExpirationDateFF.module.css?3c33","D2App/personalAccessTokens/generateTokenModal/getTokenExpirationDate.js","D2App/personalAccessTokens/generateTokenModal/ExpirationDateFF.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/Form.module.css?03f8","D2App/personalAccessTokens/generateTokenModal/BrowserForm.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/ContextSelector.module.css?7299","D2App/personalAccessTokens/generateTokenModal/ContextSelector.component.js","D2App/personalAccessTokens/generateTokenModal/AllowedIpsFF.component.js","D2App/personalAccessTokens/generateTokenModal/ServerForm.component.js","D2App/personalAccessTokens/generateTokenModal/GenerateTokenModal.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/PersonalAccessTokens.module.css?5c3f","D2App/personalAccessTokens/use-modal.js","D2App/personalAccessTokens/tokenCard/ConfirmDeleteModal.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/tokenCard/ExistingToken.module.css?3895","D2App/personalAccessTokens/tokenCard/TokenPropType.js","D2App/personalAccessTokens/tokenCard/ExistingToken.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/tokenCard/NewToken.module.css?c96c","D2App/personalAccessTokens/tokenCard/NewToken.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/tokenCard/TokenCard.module.css?bfea","D2App/personalAccessTokens/tokenCard/TokenCard.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/TokensList.module.css?7903","D2App/personalAccessTokens/TokensList.component.js","D2App/personalAccessTokens/PersonalAccessTokens.component.js","D2App/profile/Profile.component.js","D2App/settings/userSettings.actions.js","D2App/settings/UserSettings.component.js","D2App/layout/InfoHeader.component.js","D2App/layout/InfoRow.component.js","D2App/layout/InfoCard.component.js","D2App/viewProfile/ViewProfile.component.js","D2App/app.router.js","D2App/app.actions.js","webpack://@dhis2/app-shell/./src/D2App/App.module.css?77cb","D2App/AppWrapper.js","D2App/Main.js"],"sourcesContent":["// Cache version - increment this when you want to force a cache clear\nconst CACHE_VERSION = '1';\nconst VERSION_PARAM = 'cv';\nasync function clearCaches() {\n  if ('caches' in window) {\n    try {\n      const cacheNames = await caches.keys();\n      const cachePromises = cacheNames.filter(name => name.includes('user-profile-app')).map(name => caches.delete(name));\n      await Promise.all(cachePromises);\n      console.log('Caches cleared');\n    } catch (error) {\n      console.warn('Error clearing caches:', error);\n    }\n  }\n}\nasync function unregisterServiceWorkers() {\n  if ('serviceWorker' in navigator) {\n    try {\n      const registrations = await navigator.serviceWorker.getRegistrations();\n      for (const registration of registrations) {\n        await registration.unregister();\n      }\n      console.log('Service workers unregistered');\n    } catch (error) {\n      console.warn('Error unregistering service workers:', error);\n    }\n  }\n}\nfunction clearStorages() {\n  try {\n    // Only clear storage items that might cause conflicts\n    const clearKeys = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key && key.startsWith('dhis2')) {\n        clearKeys.push(key);\n      }\n    }\n    clearKeys.forEach(key => localStorage.removeItem(key));\n\n    // Clear session storage\n    sessionStorage.clear();\n  } catch (error) {\n    console.warn('Error clearing storage:', error);\n  }\n}\n\n// Main initialization\nexport async function initialize() {\n  // Skip in development\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n  const url = new URL(window.location.href);\n  const currentVersion = url.searchParams.get(VERSION_PARAM);\n\n  // If version in URL doesn't match current version, update it\n  if (currentVersion !== CACHE_VERSION) {\n    // Store the current scroll position\n    sessionStorage.setItem('scrollPosition', window.scrollY);\n\n    // Update the version in URL without reloading if it's the first time\n    if (!currentVersion) {\n      url.searchParams.set(VERSION_PARAM, CACHE_VERSION);\n      window.history.replaceState({}, '', url);\n    } else {\n      // If version exists but doesn't match, do a hard reload\n      url.searchParams.set(VERSION_PARAM, CACHE_VERSION);\n      window.location.replace(url.toString());\n      return;\n    }\n  }\n\n  // Clear caches in the background if needed\n  if (!sessionStorage.getItem(`cacheCleared_${CACHE_VERSION}`)) {\n    sessionStorage.setItem(`cacheCleared_${CACHE_VERSION}`, 'true');\n    Promise.all([clearCaches(), unregisterServiceWorkers(), new Promise(resolve => {\n      setTimeout(() => {\n        clearStorages();\n        resolve();\n      }, 1000);\n    })]).catch(console.error);\n  }\n\n  // If we get here, we're on the correct version\n  console.log('Cache buster: Running version', CACHE_VERSION);\n}\nexport default {\n  initialize,\n  CACHE_VERSION,\n  VERSION_PARAM\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action';\nimport log from 'loglevel';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nconst accountActions = Action.createActionsFromNames(['setPassword']);\naccountActions.setPassword.subscribe(_ref => {\n  let {\n    data: [oldPassword, newPassword, onSuccess],\n    complete,\n    error\n  } = _ref;\n  const payload = {\n    oldPassword,\n    newPassword\n  };\n  getD2().then(d2 => {\n    const api = d2.Api.getApi();\n    api.update('/me/changePassword', payload).then(() => {\n      log.debug('Password updated successfully.');\n      appActions.setCategory('passwordChanged');\n      onSuccess();\n      complete();\n    }).catch(err => {\n      const message = err && err.message && typeof err.message === 'string' ? err.message : i18n.t('Failed to update password');\n      appActions.showSnackbarMessage({\n        message,\n        status: 'error',\n        permanent: true\n      });\n      log.error('Failed to update password:', err);\n      error();\n    });\n  });\n});\nexport default accountActions;","// Atleast one digit\nconst oneDigit = /^(?=.*\\d)/;\n\n// Atleast one uppercase character\nconst oneUpperCase = /^(?=.*[A-Z])/;\n\n// Atleast one special character\n// Using this regex to match all non-alphanumeric characters to match server-side implementation\n// https://github.com/dhis2/dhis2-core/blob/master/dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/user/SpecialCharacterValidationRule.java#L39\nconst oneSpecialCharacter = /[^a-zA-Z0-9]/;\nexport default function isValidPassword(value) {\n  if (!value) {\n    return true;\n  }\n  return oneDigit.test(value) && oneUpperCase.test(value) && oneSpecialCharacter.test(value) && value.length > 7 && value.length < 36;\n}","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport TextField from 'd2-ui/lib/form-fields/TextField';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { FlatButton, RaisedButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport accountActions from './account.actions.js';\nimport isValidPassword from './isValidPassword.js';\nconst styles = {\n  notification: {\n    border: '1px solid #bdbdbd',\n    backgroundColor: '#e5e5e5',\n    padding: 12\n  }\n};\nclass AccountEditor extends Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"isSamePassword\", value => {\n      return value === this.state.newPassword;\n    });\n    _defineProperty(this, \"isNotEmpty\", value => {\n      return value && String(value).trim().length > 0;\n    });\n    _defineProperty(this, \"clearRepeatPassword\", () => {\n      this.setState({\n        oldPassword: '',\n        reNewPassword: '',\n        newPassword: ''\n      });\n      return true;\n    });\n    _defineProperty(this, \"updatePassword\", () => {\n      const formState = this.formBuilder ? this.formBuilder.state.form : {};\n      if (formState.pristine === true) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('No changes have been made')\n        });\n      } else if (formState.validating === true) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('The form is currently being validated. Please try again.'),\n          status: 'warning'\n        });\n      } else if (formState.valid !== true) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('The form contains errors. Please fix the errors and try again.'),\n          status: 'error'\n        });\n      } else if (!this.isNotEmpty(this.state.newPassword) || !this.isNotEmpty(this.state.reNewPassword)) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('The entered values do not match. Please re-enter.'),\n          status: 'error'\n        });\n      } else if (!this.isNotEmpty(this.state.oldPassword)) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('Please provide your old password'),\n          status: 'error'\n        });\n      } else {\n        accountActions.setPassword(this.state.oldPassword, this.state.newPassword, this.clearRepeatPassword);\n      }\n    });\n    _defineProperty(this, \"openTwoFactorDialog\", () => {\n      appActions.setCategory('twoFactor');\n    });\n    _defineProperty(this, \"updateState\", (e, v) => {\n      this.setState({\n        [e]: v\n      });\n    });\n    this.state = {\n      oldPassword: '',\n      newPassword: '',\n      reNewPassword: '',\n      wrongOldPasswordText: ''\n    };\n  }\n  render() {\n    const usesOpenIdConnect = this.context.d2.currentUser.externalAuth;\n    const fields = [{\n      name: 'username',\n      component: TextField,\n      value: this.props.username,\n      props: {\n        floatingLabelText: i18n.t('Username'),\n        style: {\n          width: '100%'\n        },\n        disabled: true\n      }\n    }, {\n      name: 'oldPassword',\n      component: TextField,\n      value: this.state.oldPassword,\n      props: {\n        type: 'password',\n        floatingLabelText: i18n.t('Old password'),\n        style: {\n          width: '100%'\n        },\n        changeEvent: 'onBlur',\n        autoComplete: 'new-password',\n        disabled: usesOpenIdConnect\n      },\n      validators: [{\n        validator: this.isNotEmpty,\n        message: i18n.t(\"This field can't be left blank\")\n      }]\n    }, {\n      name: 'newPassword',\n      component: TextField,\n      value: this.state.newPassword,\n      props: {\n        type: 'password',\n        floatingLabelText: i18n.t('New password'),\n        style: {\n          width: '100%'\n        },\n        changeEvent: 'onBlur',\n        autoComplete: 'new-password',\n        disabled: usesOpenIdConnect\n      },\n      validators: [{\n        validator: isValidPassword,\n        message: i18n.t('Password should be at least 8 characters with at least 1 digit, 1 uppercase letter and 1 special character')\n      }]\n    }, {\n      name: 'reNewPassword',\n      component: TextField,\n      value: this.state.reNewPassword,\n      props: {\n        type: 'password',\n        floatingLabelText: i18n.t('Repeat new password'),\n        style: {\n          width: '100%'\n        },\n        changeEvent: 'onBlur',\n        autoComplete: 'new-password',\n        disabled: usesOpenIdConnect\n      },\n      validators: [{\n        validator: this.isSamePassword,\n        message: i18n.t('The entered values do not match. Please re-enter.')\n      }]\n    }, {\n      name: 'twoFactorSetupButton',\n      component: FlatButton,\n      props: {\n        label: i18n.t('Setup 2-Factor'),\n        onClick: this.openTwoFactorDialog,\n        style: {\n          marginTop: '20px'\n        },\n        secondary: false,\n        disabled: usesOpenIdConnect\n      }\n    }, {\n      name: 'postbutton',\n      component: RaisedButton,\n      props: {\n        label: i18n.t('Update password'),\n        onClick: this.updatePassword,\n        style: {\n          marginTop: '20px'\n        },\n        secondary: true,\n        disabled: usesOpenIdConnect\n      }\n    }];\n    const setRef = r => {\n      this.formBuilder = r;\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, usesOpenIdConnect && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.notification\n    }, i18n.t(\"This account is linked to an OpenID Connect identity. Visit the Open ID Connect provider to manage this account's settings.\")), /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.updateState,\n      ref: setRef\n    }));\n  }\n}\nAccountEditor.propTypes = {\n  username: PropTypes.string.isRequired\n};\nAccountEditor.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default AccountEditor;","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import i18n from './locales/index.js';\nconst settingsKeyMapping = {\n  /* ================================================================= */\n  /* Category: Profile Settings                                        */\n  /* ================================================================= */\n  firstName: {\n    label: i18n.t('First name'),\n    type: 'textfield',\n    validators: ['required']\n  },\n  surname: {\n    label: i18n.t('Surname'),\n    type: 'textfield',\n    validators: ['required']\n  },\n  avatar: {\n    label: i18n.t('Profile picture'),\n    type: 'avatar'\n  },\n  gender: {\n    label: i18n.t('Gender'),\n    type: 'dropdown',\n    options: {\n      gender_male: i18n.t('Male'),\n      gender_female: i18n.t('Female'),\n      gender_other: i18n.t('Other')\n    }\n  },\n  email: {\n    label: i18n.t('E-mail'),\n    type: 'textfield',\n    validators: ['email']\n  },\n  emailVerification: {\n    name: 'emailVerification',\n    label: i18n.t('E-mail Verification'),\n    type: 'submit'\n  },\n  phoneNumber: {\n    label: i18n.t('Mobile phone number'),\n    type: 'textfield'\n  },\n  introduction: {\n    label: i18n.t('Introduction'),\n    type: 'textfield',\n    multiLine: true\n  },\n  jobTitle: {\n    label: i18n.t('Job title'),\n    type: 'textfield'\n  },\n  userRoles: {\n    label: i18n.t('User roles'),\n    type: 'userRoles',\n    validators: ['required']\n  },\n  userOrgUnits: {\n    label: i18n.t('User org units'),\n    type: 'userOrgUnits',\n    validators: ['required']\n  },\n  birthday: {\n    label: i18n.t('Birthday'),\n    type: 'date'\n  },\n  nationality: {\n    label: i18n.t('Nationality'),\n    type: 'textfield'\n  },\n  employer: {\n    label: i18n.t('Employer'),\n    type: 'textfield'\n  },\n  education: {\n    label: i18n.t('Education'),\n    type: 'textfield',\n    multiLine: true\n  },\n  // TODO: chips component for interests and languages?\n  interests: {\n    label: i18n.t('Interests'),\n    type: 'textfield',\n    multiLine: true\n  },\n  languages: {\n    label: i18n.t('Languages'),\n    type: 'textfield',\n    multiLine: true\n  },\n  whatsApp: {\n    label: i18n.t('WhatsApp'),\n    type: 'textfield',\n    validators: ['whats_app']\n  },\n  facebookMessenger: {\n    label: i18n.t('Facebook Messenger'),\n    type: 'textfield'\n  },\n  skype: {\n    label: i18n.t('Skype'),\n    type: 'textfield'\n  },\n  telegram: {\n    label: i18n.t('Telegram'),\n    type: 'textfield'\n  },\n  twitter: {\n    label: i18n.t('Twitter'),\n    type: 'textfield'\n  },\n  /* ================================================================= */\n  /* Category: Account Settings                                        */\n  /* ================================================================= */\n  accountEditor: {\n    label: i18n.t('Account editor'),\n    type: 'accountEditor'\n  },\n  /* ================================================================= */\n  /* Category: System Settings                                         */\n  /* ================================================================= */\n  keyUiLocale: {\n    label: i18n.t('Interface language'),\n    type: 'dropdown',\n    source: 'uiLocales',\n    showSystemDefault: true\n  },\n  keyDbLocale: {\n    label: i18n.t('Database language'),\n    type: 'dropdown',\n    source: 'dbLocales',\n    showSystemDefault: true\n  },\n  keyStyle: {\n    label: i18n.t('Style'),\n    type: 'dropdown',\n    source: 'styles',\n    showSystemDefault: true\n  },\n  keyAnalysisDisplayProperty: {\n    label: i18n.t('Property to display in analysis modules'),\n    type: 'dropdown',\n    options: {\n      name: i18n.t('Name'),\n      shortName: i18n.t('Short name')\n    },\n    showSystemDefault: true\n  },\n  keyMessageEmailNotification: {\n    label: i18n.t('Enable message email notifications'),\n    type: 'dropdown',\n    options: {\n      true: i18n.t('Yes'),\n      false: i18n.t('No')\n    }\n  },\n  keyMessageSmsNotification: {\n    label: i18n.t('Enable message SMS notifications'),\n    type: 'dropdown',\n    options: {\n      true: i18n.t('Yes'),\n      false: i18n.t('No')\n    }\n  }\n};\nexport default settingsKeyMapping;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport CircularProgress from 'material-ui/CircularProgress';\nimport FlatButton from 'material-ui/FlatButton';\nimport ActionDelete from 'material-ui/svg-icons/action/delete.js';\nimport FileUpload from 'material-ui/svg-icons/file/file-upload.js';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport userSettingsActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport './avatareditor.component.css';\nimport optionValueStore from '../optionValue.store.js';\nconst MAX_PROFILE_PICTURE_SIZE_IN_MB = 2; // maximum allowed file size for an avatar (2MB)\n\nclass AvatarEditor extends Component {\n  constructor(props) {\n    var _optionValueStore$sta, _optionValueStore$sta2;\n    super(props);\n\n    // This system setting does not exist currently, but leaving it here in case 1MB is not enough in some contexts\n    _defineProperty(this, \"getInputRef\", () => this.inputRef);\n    _defineProperty(this, \"setInputRef\", node => this.inputRef = node);\n    _defineProperty(this, \"onFileSelect\", async event => {\n      const {\n        onChange\n      } = this.props;\n      // Setup form data for image file\n      const file = event.target.files[0];\n\n      // reject files bigger than the maximum allowed size\n      const maxSize = this.maxPhotoSize * 1000 * 1024; // maximum size in bytes\n      if ((file === null || file === void 0 ? void 0 : file.size) > maxSize) {\n        userSettingsActions.showSnackbarMessage({\n          message: i18n.t(`Please choose a profile avatar less than {{- maxSize}}MB in size.`, {\n            maxSize: this.maxPhotoSize\n          }),\n          status: 'error',\n          permanent: true\n        });\n        return;\n      }\n\n      // Cancel was pressed, no file provided\n      if (!file) {\n        return;\n      }\n      this.setState({\n        loading: true\n      });\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('domain', 'USER_AVATAR');\n\n      // Send image to server and save image id as avatar\n      try {\n        const postResponse = await this.api.post('fileResources', formData);\n        const imageId = postResponse.response.fileResource.id;\n        onChange({\n          target: {\n            value: {\n              id: imageId\n            }\n          }\n        });\n        this.setState({\n          loading: false,\n          avatarSrc: this.parseAvatarSrc(imageId)\n        });\n      } catch (error) {\n        userSettingsActions.showSnackbarMessage({\n          message: i18n.t('Failed to upload profile picture'),\n          status: 'error'\n        });\n        console.error('POST request to fileResources endpoint failed: ', error);\n      }\n    });\n    _defineProperty(this, \"onRemoveIcon\", () => {\n      this.props.onChange({\n        target: {\n          value: null\n        }\n      });\n      // Clear input here to ensure that a re-upload of a previously used file is not ignored\n      const input = this.getInputRef();\n      input.value = null;\n      this.setState({\n        avatarSrc: null\n      });\n    });\n    this.maxPhotoSize = (_optionValueStore$sta = optionValueStore === null || optionValueStore === void 0 ? void 0 : (_optionValueStore$sta2 = optionValueStore.state.systemDefault) === null || _optionValueStore$sta2 === void 0 ? void 0 : _optionValueStore$sta2.keyMaxAvatarSizeInMB) !== null && _optionValueStore$sta !== void 0 ? _optionValueStore$sta : MAX_PROFILE_PICTURE_SIZE_IN_MB;\n    this.api = props.d2.Api.getApi();\n    this.userId = props.currentUser.id;\n    this.state = {\n      avatarSrc: props.currentUser.avatar ? this.parseAvatarSrc(props.currentUser.avatar.id) : null,\n      loading: false\n    };\n    this.inputRef = null;\n  }\n  parseAvatarSrc(avatarId) {\n    return `${this.api.baseUrl}/fileResources/${avatarId}/data`;\n  }\n  renderAvatar() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__preview\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.avatarSrc,\n      className: \"avatar-editor__image\",\n      alt: i18n.t('Profile picture')\n    }));\n  }\n  renderPlaceholder() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__not-available\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, i18n.t('No profile picture available')));\n  }\n  render() {\n    const {\n      loading,\n      avatarSrc\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"avatar-editor__label\"\n    }, i18n.t('Profile picture')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__preview-wrap\"\n    }, loading ? /*#__PURE__*/React.createElement(CircularProgress, null) : avatarSrc ? this.renderAvatar() : this.renderPlaceholder()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__buttonstrip\"\n    }, /*#__PURE__*/React.createElement(FlatButton, {\n      containerElement: \"label\",\n      icon: /*#__PURE__*/React.createElement(FileUpload, null),\n      label: i18n.t('Select profile picture'),\n      primary: true\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onFileSelect,\n      style: {\n        display: 'none'\n      },\n      type: \"file\",\n      accept: \"image/*\",\n      ref: this.setInputRef\n    })), avatarSrc && /*#__PURE__*/React.createElement(FlatButton, {\n      icon: /*#__PURE__*/React.createElement(ActionDelete, null),\n      label: i18n.t('Remove profile picture'),\n      onClick: this.onRemoveIcon\n    })));\n  }\n}\nAvatarEditor.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  d2: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nexport default AvatarEditor;","import { blue500, blue700, blue100, orange500, grey100, grey500, darkBlack, white, grey400 } from 'material-ui/styles/colors.js';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme.js';\nimport Spacing from 'material-ui/styles/spacing.js';\nimport { fade } from 'material-ui/utils/colorManipulator.js';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: blue500,\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: grey500,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default Object.assign({}, muiTheme, {\n  forms: {\n    minWidth: 350,\n    maxWidth: 750\n  },\n  formInput: {\n    fontWeight: 100\n  }\n});","import { useAlert, useDataMutation, useConfig } from '@dhis2/app-runtime';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nconst sendEmailVerificationMutation = {\n  resource: 'account/sendEmailVerification',\n  type: 'create'\n};\nconst emailRegExp = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nexport function VerifyEmail(_ref) {\n  let {\n    userEmail\n  } = _ref;\n  const errorAlert = useAlert(_ref2 => {\n    let {\n      message\n    } = _ref2;\n    return message;\n  }, {\n    critical: true\n  });\n  const successAlert = useAlert(_ref3 => {\n    let {\n      message\n    } = _ref3;\n    return message;\n  }, {\n    success: true\n  });\n  const {\n    systemInfo\n  } = useConfig();\n  const [mutateEmailVerification, {\n    loading: mutationLoading\n  }] = useDataMutation(sendEmailVerificationMutation, {\n    onComplete: () => {\n      successAlert.show({\n        message: i18n.t('Email verification link sent successfully!')\n      });\n    },\n    onError: err => {\n      errorAlert.show({\n        message: err.message || i18n.t('Failed to send email verification link.')\n      });\n    }\n  });\n  const emailConfigured = systemInfo === null || systemInfo === void 0 ? void 0 : systemInfo.emailConfigured;\n  const isValidEmail = emailRegExp.test(userEmail);\n  if (!emailConfigured) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '10px'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: mutateEmailVerification,\n    disabled: mutationLoading || !isValidEmail || !userEmail,\n    loading: mutationLoading\n  }, i18n.t('Verify Email')));\n}\nVerifyEmail.propTypes = {\n  userEmail: PropTypes.string.isRequired\n};","import Checkbox from 'd2-ui/lib/form-fields/CheckBox.component';\nimport DatePicker from 'd2-ui/lib/form-fields/DatePicker.component';\nimport SelectField from 'd2-ui/lib/form-fields/DropDown.component';\nimport TextField from 'd2-ui/lib/form-fields/TextField';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators';\nimport log from 'loglevel';\nimport { Card, CardText } from 'material-ui/Card';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport AccountEditor from '../account/AccountEditor.component.js';\nimport userSettingsActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport optionValueStore from '../optionValue.store.js';\nimport userSettingsStore from '../settings/userSettings.store.js';\nimport userSettingsKeyMapping from '../userSettingsMapping.js';\nimport AvatarEditor from './AvatarEditor.component.js';\nimport AppTheme from './theme.js';\nimport { VerifyEmail } from './VerifyEmail.component.js';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 300,\n    color: AppTheme.rawTheme.palette.textColor,\n    padding: '24px 0 12px 16px'\n  },\n  card: {\n    marginTop: 8,\n    marginRight: '1rem',\n    padding: '0 1rem'\n  },\n  cardTitle: {\n    background: AppTheme.rawTheme.palette.primary2Color,\n    height: 62\n  },\n  cardTitleText: {\n    fontSize: 28,\n    fontWeight: 100,\n    color: AppTheme.rawTheme.palette.alternateTextColor\n  },\n  noHits: {\n    padding: '1rem',\n    marginTop: '1rem',\n    fontWeight: 300\n  },\n  userSettingsOverride: {\n    color: AppTheme.rawTheme.palette.primary1Color,\n    marginTop: -6,\n    fontSize: '0.8rem',\n    fontWeight: 400\n  },\n  menuIcon: {\n    color: '#757575'\n  },\n  menuLabel: {\n    position: 'relative',\n    top: -6,\n    marginLeft: 16\n  }\n};\nfunction wrapWithLabel(WrappedComponent, label) {\n  // eslint-disable-next-line react/display-name\n  return props => {\n    const labelStyle = styles.userSettingsOverride;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(WrappedComponent, props), /*#__PURE__*/React.createElement(\"div\", {\n      style: labelStyle\n    }, label));\n  };\n}\n\n// Handles translation keys from d2-ui form validators\nfunction translateValidatorMessage(validatorMessage) {\n  switch (validatorMessage) {\n    case 'value_required':\n      return i18n.t('This field is required');\n    case 'value_should_be_a_url':\n      return i18n.t('This field should be a URL');\n    case 'value_should_be_list_of_urls':\n      return i18n.t('This field should contain a list of URLs');\n    case 'value_should_be_a_number':\n      return i18n.t('This field should be a number');\n    case 'value_should_be_a_positive_number':\n      return i18n.t('This field should be a positive number');\n    case 'value_should_be_an_email':\n      return i18n.t('This field should be an email');\n    case 'invalid_whats_app':\n      return i18n.t('Please enter a valid international phone number (+0123456789)');\n    default:\n      return validatorMessage;\n  }\n}\nfunction getNameValidator(name) {\n  if (wordToValidatorMap.has(name)) {\n    return {\n      validator: wordToValidatorMap.get(name),\n      message: translateValidatorMessage(wordToValidatorMap.get(name).message)\n    };\n  }\n  return false;\n}\nfunction createTextField(fieldBase, mapping) {\n  return Object.assign({}, fieldBase, {\n    props: Object.assign({}, fieldBase.props, {\n      changeEvent: 'onBlur',\n      multiLine: !!mapping.multiLine,\n      disabled: !!mapping.disabled\n    })\n  });\n}\n\n// eslint-disable-next-line max-params\nfunction createDateField(fieldBase, fieldName, mapping, valueStore) {\n  const state = valueStore.state;\n  return Object.assign({}, fieldBase, {\n    component: DatePicker,\n    value: state && state[fieldName] ? new Date(state[fieldName]) : '',\n    props: Object.assign({}, fieldBase.props, {\n      floatingLabelText: mapping.label,\n      dateFormat: userSettingsStore.state.keyDateFormat || 'yyyy-MM-dd',\n      textFieldStyle: {\n        width: '100%'\n      },\n      allowFuture: false\n    })\n  });\n}\nfunction createCheckBox(fieldBase, fieldName) {\n  return Object.assign({}, fieldBase, {\n    component: Checkbox,\n    props: {\n      value: '',\n      label: fieldBase.props.floatingLabelText,\n      style: fieldBase.props.style,\n      checked: fieldBase.value.toString() === 'true',\n      onChange: (e, v) => {\n        userSettingsActions.saveUserKey(fieldName, v ? 'true' : 'false');\n      }\n    }\n  });\n}\n\n// eslint-disable-next-line max-params\nfunction createDropDown(fieldBase, fieldName, valueStore, mapping) {\n  const value = valueStore.state[fieldName] || valueStore.state[fieldName] === false ? valueStore.state[fieldName].toString() : mapping.showSystemDefault ? 'system_default' : 'null';\n  const menuItems = (mapping.source ? optionValueStore.state && optionValueStore.state[mapping.source] || [] : Object.keys(mapping.options).map(id => {\n    const displayName = mapping.options[id];\n    return {\n      id,\n      displayName\n    };\n  })).slice();\n  const systemSettingValue = optionValueStore.state && optionValueStore.state.systemDefault && optionValueStore.state.systemDefault[fieldName];\n  let systemSettingLabel;\n  if (typeof systemSettingValue === 'boolean') {\n    systemSettingLabel = systemSettingValue ? i18n.t('Yes') : i18n.t('No');\n  } else if (optionValueStore.state[mapping.source]) {\n    systemSettingLabel = optionValueStore.state[mapping.source].filter(x => x.id === systemSettingValue).map(x => x.displayName)[0] || i18n.t('No value');\n  } else if (systemSettingValue === 'null' || systemSettingValue === 'system_default' || typeof systemSettingValue === 'undefined') {\n    systemSettingLabel = i18n.t('No value');\n  } else {\n    systemSettingLabel = systemSettingValue;\n  }\n  if (mapping.showSystemDefault) {\n    menuItems.unshift({\n      id: 'system_default',\n      // TODO: use i18n interpolation here\n      displayName: `${i18n.t('Use system default')} (${systemSettingLabel})`\n    });\n  }\n  return Object.assign({}, fieldBase, {\n    component: SelectField,\n    value,\n    props: Object.assign({}, fieldBase.props, {\n      includeEmpty: !!mapping.includeEmpty,\n      emptyLabel: mapping.includeEmpty ? mapping.emptyLabel : undefined,\n      noOptionsLabel: i18n.t('No options')\n    }, {\n      menuItems\n    })\n  });\n}\nfunction createAccountEditor(fieldBase, d2, valueStore) {\n  return Object.assign({}, fieldBase, {\n    component: AccountEditor,\n    props: {\n      d2,\n      username: valueStore.state.username\n    }\n  });\n}\nfunction createAvatarEditor(fieldBase, d2, valueStore) {\n  return Object.assign({}, fieldBase, {\n    component: AvatarEditor,\n    props: {\n      d2,\n      currentUser: valueStore.state\n    }\n  });\n}\nfunction createVerifyButton(fieldBase, valueStore) {\n  return Object.assign({}, fieldBase, {\n    component: VerifyEmail,\n    props: {\n      userEmail: valueStore.state['email'] || ''\n    }\n  });\n}\nfunction createFieldBaseObject(fieldName, mapping, valueStore) {\n  if (!mapping) {\n    log.warn(`Mapping not found for field: ${fieldName}`);\n    return null; // Skip this field\n  }\n\n  const state = valueStore.state;\n  const hintText = mapping.hintText || '';\n  const valueString = Object.prototype.hasOwnProperty.call(state, fieldName) ? String(state[fieldName]).trim() : '';\n  const propsObject = {\n    floatingLabelText: mapping.label,\n    style: {\n      width: '100%'\n    },\n    hintText\n  };\n  const baseValidators = (mapping.validators || []).map(name => getNameValidator(name)).filter(v => v);\n  return Object.assign({}, {\n    name: fieldName,\n    value: valueString,\n    component: TextField,\n    props: propsObject,\n    validators: baseValidators\n  });\n}\nfunction createField(fieldName, valueStore, d2) {\n  const mapping = userSettingsKeyMapping[fieldName];\n  const fieldBase = createFieldBaseObject(fieldName, mapping, valueStore);\n  switch (mapping.type) {\n    case 'textfield':\n      return createTextField(fieldBase, mapping);\n    case 'date':\n      return createDateField(fieldBase, fieldName, mapping, valueStore);\n    case 'checkbox':\n      return createCheckBox(fieldBase, fieldName);\n    case 'dropdown':\n      return createDropDown(fieldBase, fieldName, valueStore, mapping);\n    case 'accountEditor':\n      return createAccountEditor(fieldBase, d2, valueStore);\n    case 'avatar':\n      return createAvatarEditor(fieldBase, d2, valueStore);\n    case 'submit':\n      return createVerifyButton(fieldBase, valueStore);\n    default:\n      log.warn(`Unknown control type \"${mapping.type}\" encountered for field \"${fieldName}\"`);\n      return {};\n  }\n}\nfunction wrapFieldWithLabel(field) {\n  const mapping = userSettingsKeyMapping[field.name];\n\n  // For settings that have a system wide default value,\n  // and is overridden by the current user, display\n  // the system wide default under the current user\n  // setting (which may be the same value)\n  if (mapping.showSystemDefault && field.value && field.value !== null && field.value !== 'null' && Object.prototype.hasOwnProperty.call(optionValueStore.state.systemDefault, field.name)) {\n    const systemValue = optionValueStore.state.systemDefault[field.name];\n    const actualSystemValue = systemValue !== undefined && systemValue !== null && systemValue !== 'null';\n    let systemValueLabel = systemValue;\n    if (mapping.source && actualSystemValue) {\n      systemValueLabel = optionValueStore.state[mapping.source].find(item => item.id === systemValue).displayName;\n    } else if (field.props.menuItems && actualSystemValue) {\n      systemValueLabel = field.props.menuItems.find(item => item.id === systemValue || String(systemValue) === item.id).displayName;\n    } else {\n      systemValueLabel = mapping.options[systemValue];\n    }\n\n    // TODO: use i18n interpolation here\n    const systemDefaultLabel = `${i18n.t('System default')}: ${systemValueLabel}`;\n    return Object.assign(field, {\n      component: wrapWithLabel(field.component, systemDefaultLabel)\n    });\n  }\n  return field;\n}\nclass FormFields extends Component {\n  componentDidMount() {\n    this.disposable = this.props.valueStore.subscribe(() => {\n      this.forceUpdate();\n    });\n  }\n  componentWillUnmount() {\n    this.disposable.unsubscribe();\n  }\n  renderFields(fieldNames) {\n    const d2 = this.context.d2;\n    const valueStore = this.props.valueStore;\n    // Create the regular fields\n    const fields = fieldNames.map(fieldName => createField(fieldName, valueStore, d2)).filter(field => !!field.name).map(field => wrapFieldWithLabel(field));\n    return /*#__PURE__*/React.createElement(Card, {\n      style: styles.card\n    }, /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.props.onUpdateField\n    })));\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.header\n    }, this.props.pageLabel), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\"\n    }, this.renderFields(this.props.fieldKeys)));\n  }\n}\nFormFields.propTypes = {\n  fieldKeys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  pageLabel: PropTypes.string.isRequired,\n  valueStore: PropTypes.object.isRequired,\n  onUpdateField: PropTypes.func.isRequired\n};\nFormFields.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default FormFields;","const PHONE_PATTERN = /^\\+(?:[0-9].?){4,14}[0-9]$/;\nexport default function isValidWhatsApp(value) {\n  // It's an optional field so empty is also valid\n  return !value || PHONE_PATTERN.test(value);\n}\nisValidWhatsApp.message = 'invalid_whats_app';","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators.js';\nimport log from 'loglevel';\nimport userSettingsActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport userSettingsKeyMapping from '../userSettingsMapping.js';\nimport isValidWhatsApp from './isValidWhatsApp.js';\nimport userProfileStore from './profile.store.js';\n\n// Add whatsApp validation to the validator set\nwordToValidatorMap.set('whats_app', isValidWhatsApp);\nconst userProfileActions = Action.createActionsFromNames(['save']);\nuserProfileActions.save.subscribe(_ref => {\n  let {\n    data,\n    complete,\n    error\n  } = _ref;\n  const [key, value] = data;\n  let payload = {\n    [key]: String(value).trim() || ' '\n  }; // TODO: Ugly hack to allow saving empty fields\n\n  if (key === 'birthday') {\n    const date = new Date(value);\n    payload = {\n      [key]: date.toISOString()\n    };\n  }\n  getD2().then(d2 => {\n    userProfileStore.state[key] = value;\n    userProfileStore.setState(userProfileStore.state);\n\n    // Run field validators\n    if (Array.isArray(userSettingsKeyMapping[key].validators)) {\n      const validators = userSettingsKeyMapping[key].validators;\n      if (!validators.reduce((prev, curr) => prev && wordToValidatorMap.get(curr)(value), true)) {\n        log.warn(`One or more validators did not pass for field \"${key}\" and value \"${value}\"`);\n        return;\n      }\n    }\n    getProfileUpdatePromise({\n      key,\n      value,\n      payload,\n      userId: userProfileStore.state.id,\n      d2\n    }).then(() => {\n      log.debug('User Profile updated successfully.');\n      userSettingsActions.showSnackbarMessage({\n        message: i18n.t('User profile updated'),\n        status: 'success'\n      });\n      complete();\n    }).catch(err => {\n      userSettingsActions.showSnackbarMessage({\n        message: i18n.t('Failed to update user profile'),\n        status: 'error'\n      });\n      log.error('Failed to update user profile:', err);\n      error();\n    });\n  });\n});\nfunction getProfileUpdatePromise(_ref2) {\n  let {\n    key,\n    value,\n    payload,\n    userId,\n    d2\n  } = _ref2;\n  const api = d2.Api.getApi();\n  if (key === 'avatar') {\n    if (value) {\n      // Set avatar\n      return api.update('me', {\n        avatar: {\n          id: value.id\n        }\n      });\n    } else {\n      // Clear avatar\n      return removeAvatar(userId, api);\n    }\n  }\n  return api.update('me', payload);\n}\nasync function removeAvatar(userId, api) {\n  const url = `/users/${userId}`;\n  const user = await api.get(url, {\n    fields: ':owner'\n  });\n  delete user.avatar;\n  return api.update(url, user);\n}\nexport default userProfileActions;","import React from 'react';\nimport FormFields from '../layout/FormFields.component.js';\nimport i18n from '../locales/index.js';\nimport userProfileActions from '../profile/profile.actions.js';\nimport userProfileStore from '../profile/profile.store.js';\nfunction EditProfile() {\n  const fieldKeys = ['accountEditor'];\n  const pageLabel = i18n.t('Edit account settings');\n  return /*#__PURE__*/React.createElement(FormFields, {\n    pageLabel: pageLabel,\n    fieldKeys: fieldKeys,\n    valueStore: userProfileStore,\n    onUpdateField: userProfileActions.save\n  });\n}\nexport default EditProfile;","import { FlatButton, Dialog } from 'material-ui';\nimport React from 'react';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\n\n// In development environments this won't provide the correct behavior\n// because the app is hosted on a different port, but once an app is deployed\n// reloading the window with an invalidated session will redirect to the login page\nconst reload = () => {\n  appActions.setCategory('account');\n  window.location.reload(true);\n};\nfunction PasswordChangeSuccessDialog() {\n  const titleText = i18n.t('Password changed successfully');\n  const bodyText = i18n.t('You need to login again to continue using the application.');\n  const buttonText = i18n.t('Login');\n  const buttons = [/*#__PURE__*/React.createElement(FlatButton, {\n    label: buttonText,\n    primary: true,\n    onClick: reload,\n    key: buttonText\n  })];\n  return /*#__PURE__*/React.createElement(Dialog, {\n    title: titleText,\n    actions: buttons,\n    modal: true,\n    open: true\n  }, bodyText);\n}\nexport default PasswordChangeSuccessDialog;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"TwoFactor_header__WTZxA\",\"container\":\"TwoFactor_container__6Vox6\",\"card\":\"TwoFactor_card__EteYe\"};","// extracted by mini-css-extract-plugin\nexport default {\"instructionsHeader\":\"TwoFactorDisableInstructions_instructionsHeader__2u3m3\",\"orderedList\":\"TwoFactorDisableInstructions_orderedList__YGKXl\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './TwoFactorDisableInstructions.module.css';\nconst TwoFactorDisableInstructions = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.instructionsHeader\n}, i18n.t('Turn off two-factor authentication', {\n  keySeparator: '<|>'\n})), /*#__PURE__*/React.createElement(\"ol\", {\n  className: styles.orderedList\n}, /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Open your authenticator app.', {\n  keySeparator: '<|>'\n})), /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Now, enter the authentication code below and click the \"Turn off\" button.'))));\nexport default TwoFactorDisableInstructions;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TwoFactorDisableNoticeBox_container__GLUEL\"};","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport React from 'react';\nimport styles from './TwoFactorDisableNoticeBox.module.css';\nconst TwoFactorDisableNoticeBox = () => /*#__PURE__*/React.createElement(NoticeBox, {\n  className: styles.container,\n  warning: true,\n  title: i18n.t('Remove two-factor account', {\n    keySeparator: '<|>'\n  })\n}, i18n.t('Two-factor authentication is now turned off. It is recommended to remove the account from your authenticator app now to prevent any future issues re-enabling two-factor authentication.', {\n  keySeparator: '<|>'\n}));\nexport default TwoFactorDisableNoticeBox;","// extracted by mini-css-extract-plugin\nexport default {\"qrCode\":\"TwoFactorEnableInstructions_qrCode__WQZFf\",\"instructionsHeader\":\"TwoFactorEnableInstructions_instructionsHeader__Stesb\",\"orderedList\":\"TwoFactorEnableInstructions_orderedList__lzJ82\",\"downloadLink\":\"TwoFactorEnableInstructions_downloadLink__0Jr3Q\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './TwoFactorEnableInstructions.module.css';\nconst PlayStoreLink = () => /*#__PURE__*/React.createElement(\"a\", {\n  href: \"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2\",\n  rel: \"noopener noreferrer\"\n}, i18n.t('Play store'));\nconst AppStoreLink = () => /*#__PURE__*/React.createElement(\"a\", {\n  href: \"https://itunes.apple.com/app/google-authenticator/id388497605?mt=8\",\n  rel: \"noopener noreferrer\"\n}, i18n.t('App store'));\nconst QRCode = () => {\n  const {\n    baseUrl,\n    apiVersion\n  } = useConfig();\n  return /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.qrCode,\n    alt: \"qrCode\",\n    src: `${baseUrl}/api/${apiVersion}/2fa/qrCode`\n  });\n};\nconst TwoFactorEnableInstructions = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.instructionsHeader\n}, i18n.t('Turn on two-factor authentication', {\n  keySeparator: '<|>'\n})), /*#__PURE__*/React.createElement(\"ol\", {\n  className: styles.orderedList\n}, /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Make sure you have an authenticator app installed on your device. We recommend Google Authenticator'), ' (', /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.downloadLink\n}, /*#__PURE__*/React.createElement(PlayStoreLink, null)), ', ', /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.downloadLink\n}, /*#__PURE__*/React.createElement(AppStoreLink, null)), ').'), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Use the authenticator app to scan the QR code below:')), /*#__PURE__*/React.createElement(QRCode, null)), /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Now, enter the code from your authenticator app below and click the \"Turn on\" button.'))));\nexport default TwoFactorEnableInstructions;","// extracted by mini-css-extract-plugin\nexport default {\"enableNoticeContainer\":\"TwoFactorEnableNotice_enableNoticeContainer__i+J5I\",\"enableNoticeTitle\":\"TwoFactorEnableNotice_enableNoticeTitle__tkx9G\",\"enableNoticeBody\":\"TwoFactorEnableNotice_enableNoticeBody__QUJGU\"};","import i18n from '@dhis2/d2-i18n';\nimport { IconQuestion16 } from '@dhis2/ui';\nimport React from 'react';\nimport styles from './TwoFactorEnableNotice.module.css';\nconst TwoFactorEnableNotice = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.enableNoticeContainer\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.enableNoticeTitle\n}, /*#__PURE__*/React.createElement(IconQuestion16, null), i18n.t('Already set up two-factor authentication before?', {\n  keySeparator: '<|>'\n})), /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.enableNoticeBody\n}, i18n.t('If you have set up two-factor authentication for this account before, you need to remove that entry from your authenticator app before setting it up again.', {\n  keySeparator: '<|>'\n})));\nexport default TwoFactorEnableNotice;","// extracted by mini-css-extract-plugin\nexport default {\"introductionText\":\"TwoFactorIntroduction_introductionText__KYKXy\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './TwoFactorIntroduction.module.css';\nconst TwoFactorIntroduction = () => /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.introductionText\n}, i18n.t('Two-factor authentication protects your account with an extra layer of security. With two-factor authentication turned on, you will need to enter an authentication code from your device every time you log in.', {\n  keySeparator: '<|>'\n}));\nexport default TwoFactorIntroduction;","// extracted by mini-css-extract-plugin\nexport default {\"statusHeader\":\"TwoFactorStatus_statusHeader__UCCG5\"};","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './TwoFactorStatus.module.css';\nconst TwoFactorStatus = _ref => {\n  let {\n    isTwoFaEnabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.statusHeader\n  }, isTwoFaEnabled ? /*#__PURE__*/React.createElement(NoticeBox, {\n    valid: true\n  }, i18n.t('Two-factor authentication is on.', {\n    keySeparator: '<|>'\n  })) : /*#__PURE__*/React.createElement(NoticeBox, null, i18n.t('Two-factor authentication is off.', {\n    keySeparator: '<|>'\n  })));\n};\nTwoFactorStatus.propTypes = {\n  isTwoFaEnabled: PropTypes.bool.isRequired\n};\nexport default TwoFactorStatus;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TwoFactorToggler_container__CVEyM\"};","import i18n from '@dhis2/d2-i18n';\nimport { InputField, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styles from './TwoFactorToggler.module.css';\nconst allDigitsRegex = /^\\d+$/;\nconst getValidationText = (hasErrorState, error) => {\n  if (error) {\n    var _error$message;\n    return (_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : i18n.t('Could not update two-factor authentication', {\n      keySeparator: '<|>'\n    });\n  } else if (hasErrorState) {\n    return i18n.t('This code does not look right. Enter the six digit code from your authentication app.');\n  } else {\n    return undefined;\n  }\n};\nconst TwoFactorToggler = _ref => {\n  let {\n    error,\n    isTwoFaEnabled,\n    loading,\n    toggleTwoFa\n  } = _ref;\n  const [touched, setTouched] = useState(false);\n  const [twoFaConfirmationCode, setTwoFaConfirmationCode] = useState('');\n  const isTwoFaConfirmationCodeValid = typeof twoFaConfirmationCode === 'string' && twoFaConfirmationCode.length === 6 && allDigitsRegex.test(twoFaConfirmationCode);\n  const hasErrorState = !isTwoFaConfirmationCodeValid && touched || !!error;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(InputField, {\n    label: i18n.t('Six digit authentication code'),\n    value: twoFaConfirmationCode,\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return setTwoFaConfirmationCode(value);\n    },\n    onBlur: () => setTouched(true),\n    error: hasErrorState,\n    validationText: getValidationText(hasErrorState, error),\n    required: true,\n    disabled: loading,\n    inputWidth: \"200px\"\n  }), /*#__PURE__*/React.createElement(Button, {\n    disabled: !isTwoFaConfirmationCodeValid || loading,\n    onClick: () => {\n      toggleTwoFa({\n        code: twoFaConfirmationCode\n      });\n      setTouched(false);\n      setTwoFaConfirmationCode('');\n    },\n    primary: true,\n    className: styles.button,\n    type: \"submit\"\n  }, isTwoFaEnabled ? i18n.t('Turn off two-factor authentication', {\n    keySeparator: '<|>'\n  }) : i18n.t('Turn on two-factor authentication', {\n    keySeparator: '<|>'\n  })));\n};\nTwoFactorToggler.propTypes = {\n  error: PropTypes.object.isRequired,\n  isTwoFaEnabled: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  toggleTwoFa: PropTypes.func.isRequired\n};\nexport default TwoFactorToggler;","import { useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useMemo, useState, useEffect } from 'react';\nimport userProfileStore from '../../profile/profile.store.js';\nconst mutationDefinitionBase = {\n  type: 'create',\n  data: _ref => {\n    let {\n      code\n    } = _ref;\n    return {\n      code\n    };\n  }\n};\nconst enableMutationDefinition = {\n  ...mutationDefinitionBase,\n  resource: '/2fa/enabled'\n};\nconst disableMutationDefinition = {\n  ...mutationDefinitionBase,\n  resource: '/2fa/disabled'\n};\nconst getAlertMessage = _ref2 => {\n  let {\n    attemptingToEnableTwoFa,\n    error\n  } = _ref2;\n  if (attemptingToEnableTwoFa) {\n    if (error) {\n      var _error$message;\n      return (_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : i18n.t('Could not enable 2 Factor Authentication');\n    } else {\n      return i18n.t('Two factor authentication was enabled successfully');\n    }\n  } else {\n    if (error) {\n      var _error$message2;\n      return (_error$message2 = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message2 !== void 0 ? _error$message2 : i18n.t('Could not disable two factor authentication');\n    } else {\n      return i18n.t('Two factor authentication was disabled successfully');\n    }\n  }\n};\nconst getAlertOptions = _ref3 => {\n  let {\n    error\n  } = _ref3;\n  return error ? {\n    critical: true\n  } : {\n    success: true\n  };\n};\nexport default function useTwoFaToggleMutation() {\n  const [isTwoFaEnabled, setIsTwoFaEnabled] = useState(userProfileStore.state.twoFaEnabled);\n  const [lastActionWasTwoFaDisableSuccess, setLastActionWasTwoFaDisableSuccess] = useState(false);\n  const {\n    show: showAlert\n  } = useAlert(getAlertMessage, getAlertOptions);\n  const mutationOptions = useMemo(() => {\n    const attemptingToEnableTwoFa = !isTwoFaEnabled;\n    return {\n      onComplete: () => {\n        userProfileStore.state.twoFaEnabled = attemptingToEnableTwoFa;\n        userProfileStore.setState(userProfileStore.state);\n        setLastActionWasTwoFaDisableSuccess(!attemptingToEnableTwoFa);\n        showAlert({\n          attemptingToEnableTwoFa\n        });\n      },\n      onError: error => {\n        console.error(error);\n        setLastActionWasTwoFaDisableSuccess(false);\n        showAlert({\n          attemptingToEnableTwoFa,\n          error\n        });\n      }\n    };\n  }, [isTwoFaEnabled, showAlert]);\n  const enableDataMutation = useDataMutation(enableMutationDefinition, mutationOptions);\n  const disableDataMutation = useDataMutation(disableMutationDefinition, mutationOptions);\n  const [toggleTwoFa, currentMutation] = isTwoFaEnabled ? disableDataMutation : enableDataMutation;\n  useEffect(() => {\n    const subscription = userProfileStore.subscribe(_ref4 => {\n      let {\n        twoFaEnabled\n      } = _ref4;\n      setIsTwoFaEnabled(twoFaEnabled);\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  return {\n    isTwoFaEnabled,\n    loading: currentMutation.loading || currentMutation.fetching,\n    error: currentMutation.error,\n    toggleTwoFa,\n    lastActionWasTwoFaDisableSuccess\n  };\n}","import i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport cx from 'classnames';\nimport React from 'react';\nimport styles from './TwoFactor.module.css';\nimport TwoFactorDisableInstructions from './TwoFactorDisableInstructions.js';\nimport TwoFactorDisableNoticeBox from './TwoFactorDisableNoticeBox.js';\nimport TwoFactorEnableInstructions from './TwoFactorEnableInstructions.js';\nimport TwoFactorEnableNotice from './TwoFactorEnableNotice.js';\nimport TwoFactorIntroduction from './TwoFactorIntroduction.js';\nimport TwoFactorStatus from './TwoFactorStatus.js';\nimport TwoFactorToggler from './TwoFactorToggler.js';\nimport useTwoFaToggleMutation from './useTwoFaToggleMutation.js';\nconst TwoFactor = () => {\n  const {\n    isTwoFaEnabled,\n    toggleTwoFa,\n    loading,\n    error,\n    lastActionWasTwoFaDisableSuccess\n  } = useTwoFaToggleMutation();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('content-area', styles.container)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.header\n  }, i18n.t('Two-factor Authentication', {\n    keySeparator: '<|>'\n  })), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(TwoFactorIntroduction, null), /*#__PURE__*/React.createElement(TwoFactorStatus, {\n    isTwoFaEnabled: isTwoFaEnabled\n  }), lastActionWasTwoFaDisableSuccess && /*#__PURE__*/React.createElement(TwoFactorDisableNoticeBox, null), isTwoFaEnabled ? /*#__PURE__*/React.createElement(TwoFactorDisableInstructions, null) : /*#__PURE__*/React.createElement(TwoFactorEnableInstructions, null), /*#__PURE__*/React.createElement(TwoFactorToggler, {\n    isTwoFaEnabled: isTwoFaEnabled,\n    toggleTwoFa: toggleTwoFa,\n    error: error,\n    loading: loading\n  }), !isTwoFaEnabled && !lastActionWasTwoFaDisableSuccess && /*#__PURE__*/React.createElement(TwoFactorEnableNotice, null)));\n};\nexport default TwoFactor;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport Snackbar from 'material-ui/Snackbar';\nimport React, { Component } from 'react';\nimport appActions from '../app.actions.js';\nconst messageStatus = {\n  warning: {\n    backgroundColor: '#FFA726'\n  },\n  error: {\n    backgroundColor: '#EF5350'\n  },\n  neutral: {\n    backgroundColor: 'black'\n  },\n  success: {\n    backgroundColor: '#9CCC65'\n  }\n};\nconst DEFAULT_AUTOHIDE_DURATION = 1250;\nclass SnackWrapper extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      snackbarMessage: '',\n      showSnackbar: false,\n      messageStatus: messageStatus['neutral'],\n      autoHideDuration: DEFAULT_AUTOHIDE_DURATION\n    });\n    _defineProperty(this, \"closeSnackbar\", () => {\n      this.setState({\n        showSnackbar: false\n      });\n    });\n  }\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(appActions.showSnackbarMessage.subscribe(params => {\n      const message = params.data.message;\n      const status = params.data.status ? params.data.status : 'neutral';\n      const autoHideDuration = params.data.permanent ? undefined : DEFAULT_AUTOHIDE_DURATION;\n      this.setState({\n        snackbarMessage: message,\n        showSnackbar: !!message,\n        messageStatus: messageStatus[status],\n        autoHideDuration\n      });\n    }));\n  }\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(Snackbar, {\n      message: this.state.snackbarMessage,\n      autoHideDuration: this.state.autoHideDuration,\n      bodyStyle: this.state.messageStatus,\n      open: this.state.showSnackbar,\n      onRequestClose: this.closeSnackbar\n    });\n  }\n}\nexport default SnackWrapper;","// extracted by mini-css-extract-plugin\nexport default {\"noticeBox\":\"AuthoritiesWarning_noticeBox__gAwwf\"};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { CenteredContent, CircularLoader, NoticeBox, Button } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './AuthoritiesWarning.module.css';\nconst query = {\n  authorities: {\n    resource: 'me',\n    params: {\n      fields: ['authorities']\n    }\n  }\n};\nconst AuthoritiesWarning = () => {\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      className: styles.noticeBox,\n      error: true,\n      title: i18n.t('Error fetching your authorities')\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: refetch\n    }, i18n.t('Retry loading authorities')));\n  }\n  return /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.noticeBox,\n    warning: true,\n    title: i18n.t('This token will have the following authorities')\n  }, /*#__PURE__*/React.createElement(\"ul\", null, data.authorities.authorities.map(authority => /*#__PURE__*/React.createElement(\"li\", {\n    key: authority\n  }, authority))));\n};\nexport default AuthoritiesWarning;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AllowedMethodsFF_header__K0F2u\",\"helpText\":\"AllowedMethodsFF_helpText__OZtdE\"};","import { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './AllowedMethodsFF.module.css';\nconst AllowedMethodsFF = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n  className: styles.header\n}, i18n.t('Allowed HTTP methods')), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsGET\",\n  label: i18n.t('GET', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: true\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsPOST\",\n  label: i18n.t('POST', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsPUT\",\n  label: i18n.t('PUT', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsPATCH\",\n  label: i18n.t('PATCH', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsDELETE\",\n  label: i18n.t('DELETE', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(\"small\", {\n  className: styles.helpText\n}, i18n.t('Only choose the HTTP methods this token needs to allow.')));\nexport default AllowedMethodsFF;","import { ReactFinalForm, TextAreaFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst isValidUrl = url => {\n  try {\n    const parsedUrl = new URL(url);\n    return ['http:', 'https:'].includes(parsedUrl.protocol);\n  } catch (error) {\n    return false;\n  }\n};\nconst referrerValidator = value => {\n  if (!value) {\n    return;\n  }\n  const referrers = value.split('\\n').filter(referrer => referrer.trim() !== '');\n  for (const referrer of referrers) {\n    if (!isValidUrl(referrer)) {\n      return i18n.t(`Invalid referrer '{{- referrer}}'`, {\n        referrer\n      });\n    }\n  }\n};\nconst AllowedReferrersFF = () => /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedReferrers\",\n  label: i18n.t('Allowed referrers'),\n  component: TextAreaFieldFF,\n  helpText: i18n.t('List one referrer per line.'),\n  rows: 3,\n  validate: referrerValidator\n});\nexport default AllowedReferrersFF;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ExpirationDateFF_container__fA7ZQ\",\"flex\":\"ExpirationDateFF_flex__SasW7\",\"expirationDateText\":\"ExpirationDateFF_expirationDateText__mnmiJ\"};","import moment from 'moment';\nconst getTokenExpirationDate = value => {\n  const today = moment();\n  switch (value) {\n    case '7_DAYS':\n      return today.add(7, 'days');\n    case '30_DAYS':\n      return today.add(30, 'days');\n    case '60_DAYS':\n      return today.add(60, 'days');\n    case '90_DAYS':\n      return today.add(90, 'days');\n    default:\n      throw new Error(`Unknown expiration date input value: '${value}'`);\n  }\n};\nexport default getTokenExpirationDate;","import { ReactFinalForm, hasValue, composeValidators, InputFieldFF, SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './ExpirationDateFF.module.css';\nimport getTokenExpirationDate from './getTokenExpirationDate.js';\nconst futureDateValidator = value => {\n  if (!value) {\n    return null;\n  }\n  if (new Date(value) < new Date()) {\n    return i18n.t('Token expiration date must be in the future');\n  }\n};\nconst expirationTimeOptions = [{\n  value: '7_DAYS',\n  label: i18n.t('7 days')\n}, {\n  value: '30_DAYS',\n  label: i18n.t('30 days')\n}, {\n  value: '60_DAYS',\n  label: i18n.t('60 days')\n}, {\n  value: '90_DAYS',\n  label: i18n.t('90 days')\n}, {\n  value: 'CUSTOM',\n  label: i18n.t('Custom...')\n}];\nconst renderExpirationDate = value => {\n  if (!value || value === 'CUSTOM') {\n    return null;\n  }\n  return i18n.t('The token will expire on {{- tokenExpirationDate}}.', {\n    tokenExpirationDate: getTokenExpirationDate(value).format('LL')\n  });\n};\nconst ExpirationDateFF = _ref => {\n  let {\n    values\n  } = _ref;\n  const value = values['expirationDate'];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    required: true,\n    name: \"expirationDate\",\n    label: i18n.t('Expiration (required)'),\n    initialValue: '30_DAYS',\n    component: SingleSelectFieldFF,\n    options: expirationTimeOptions,\n    validate: hasValue,\n    helpText: renderExpirationDate(value)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.flex\n  }, value === 'CUSTOM' && /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    required: true,\n    name: \"customExpirationDate\",\n    label: i18n.t('Custom expiration date (required)'),\n    type: \"date\",\n    component: InputFieldFF,\n    options: expirationTimeOptions,\n    validate: composeValidators(hasValue, futureDateValidator)\n  })));\n};\nExpirationDateFF.propTypes = {\n  values: PropTypes.object.isRequired\n};\nexport default ExpirationDateFF;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Form_header__wyhkW\",\"field\":\"Form_field__nMaA3\",\"fieldWithExplanation\":\"Form_fieldWithExplanation__y1zg5 Form_field__nMaA3\",\"explanation\":\"Form_explanation__tznNB\"};","import { IconWarning16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport AllowedMethodsFF from './AllowedMethodsFF.component.js';\nimport AllowedReferrersFF from './AllowedReferrersFF.component.js';\nimport ExpirationDateFF from './ExpirationDateFF.component.js';\nimport styles from './Form.module.css';\nconst BrowserForm = _ref => {\n  let {\n    values\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(ExpirationDateFF, {\n    values: values\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fieldWithExplanation\n  }, /*#__PURE__*/React.createElement(AllowedReferrersFF, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.explanation\n  }, /*#__PURE__*/React.createElement(IconWarning16, null), i18n.t('Important: this is not a security feature. The referrer header can easily be spoofed. This setting is intended to discourage unauthorised third-party developers from connecting to public access instances.', {\n    nsSeparator: '-:-'\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(AllowedMethodsFF, null)));\n};\nBrowserForm.propTypes = {\n  values: PropTypes.object.isRequired\n};\nexport default BrowserForm;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"ContextSelector_header__DyiTZ\",\"contexts\":\"ContextSelector_contexts__wo7EV\",\"context\":\"ContextSelector_context__fTTd5\",\"selectedContext\":\"ContextSelector_selectedContext__s7x0d ContextSelector_context__fTTd5\",\"contextTitle\":\"ContextSelector_contextTitle__0cm+i\",\"contextDescription\":\"ContextSelector_contextDescription__JFdMY\"};","import { Radio } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './ContextSelector.module.css';\nconst Context = _ref => {\n  let {\n    title,\n    children,\n    selected,\n    onSelect\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: selected ? styles.selectedContext : styles.context,\n    onClick: onSelect\n  }, /*#__PURE__*/React.createElement(Radio, {\n    checked: selected,\n    onChange: onSelect,\n    dense: true\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.contextTitle\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contextDescription\n  }, children)));\n};\nContext.propTypes = {\n  children: PropTypes.node.isRequired,\n  selected: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired\n};\nconst ContextSelector = _ref2 => {\n  let {\n    context,\n    setContext\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.header\n  }, i18n.t('Choose the context where this token will be used.')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contexts\n  }, /*#__PURE__*/React.createElement(Context, {\n    title: i18n.t('Server/script context'),\n    selected: context === 'SERVER',\n    onSelect: () => setContext('SERVER')\n  }, i18n.t(`Used for integrations and scripts that won't be accessed by a browser.`)), /*#__PURE__*/React.createElement(Context, {\n    title: i18n.t('Browser context'),\n    selected: context === 'BROWSER',\n    onSelect: () => setContext('BROWSER')\n  }, i18n.t('Used for applications, like public portals, that will be accessed with a web browser.'))));\n};\nContextSelector.propTypes = {\n  setContext: PropTypes.func.isRequired,\n  context: PropTypes.string\n};\nexport default ContextSelector;","import { ReactFinalForm, TextAreaFieldFF } from '@dhis2/ui';\nimport ipRegex from 'ip-regex';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst isValidIpAddress = ipAddress => ipRegex({\n  exact: true\n}).test(ipAddress);\nconst ipAddresesValidator = value => {\n  if (!value) {\n    return;\n  }\n  const ipAddresses = value.split('\\n').filter(ipAddress => ipAddress.trim() !== '');\n  for (const ipAddress of ipAddresses) {\n    if (!isValidIpAddress(ipAddress)) {\n      return i18n.t(`Invalid IP address '{{- ipAddress}}'`, {\n        ipAddress\n      });\n    }\n  }\n};\nconst AllowedIpsFF = () => /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedIps\",\n  label: i18n.t('Allowed IP addresses'),\n  component: TextAreaFieldFF,\n  helpText: i18n.t('List one IP address per line.'),\n  rows: 3,\n  validate: ipAddresesValidator\n});\nexport default AllowedIpsFF;","import { IconWarning16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport AllowedIpsFF from './AllowedIpsFF.component.js';\nimport AllowedMethodsFF from './AllowedMethodsFF.component.js';\nimport ExpirationDateFF from './ExpirationDateFF.component.js';\nimport styles from './Form.module.css';\nconst ServerForm = _ref => {\n  let {\n    values\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(ExpirationDateFF, {\n    values: values\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fieldWithExplanation\n  }, /*#__PURE__*/React.createElement(AllowedIpsFF, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.explanation\n  }, /*#__PURE__*/React.createElement(IconWarning16, null), i18n.t('Important: IP address validation relies on the X-Forwarded-For header, which can be spoofed. For security, make sure a load balancer or reverse proxy overwrites this header.', {\n    nsSeparator: '-:-'\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(AllowedMethodsFF, null)));\n};\nServerForm.propTypes = {\n  values: PropTypes.object.isRequired\n};\nexport default ServerForm;","import { useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport { Button, ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport AuthoritiesWarning from './AuthoritiesWarning.component.js';\nimport BrowserForm from './BrowserForm.component.js';\nimport ContextSelector from './ContextSelector.component.js';\nimport formStyles from './Form.module.css';\nimport getTokenExpirationDate from './getTokenExpirationDate.js';\nimport ServerForm from './ServerForm.component.js';\nconst renderContext = _ref => {\n  let {\n    context,\n    values\n  } = _ref;\n  switch (context) {\n    case 'SERVER':\n      return /*#__PURE__*/React.createElement(ServerForm, {\n        values: values\n      });\n    case 'BROWSER':\n      return /*#__PURE__*/React.createElement(BrowserForm, {\n        values: values\n      });\n    default:\n      throw new Error(`Unknown context: '${context}'`);\n  }\n};\nconst generateTokenMutation = {\n  resource: 'apiToken',\n  type: 'create',\n  data: data => data\n};\nconst getExpire = formParams => {\n  const expirationDate = formParams.expirationDate === 'CUSTOM' ? new Date(formParams.customExpirationDate) : getTokenExpirationDate(formParams.expirationDate);\n  return Number(expirationDate);\n};\nconst getAllowedIpsAttribute = _ref2 => {\n  let {\n    allowedIps\n  } = _ref2;\n  if (!allowedIps) {\n    return null;\n  }\n  return {\n    type: 'IpAllowedList',\n    allowedIps: allowedIps.split('\\n').filter(ipAddress => ipAddress.trim() !== '')\n  };\n};\nconst getAllowedMethodsAttribute = _ref3 => {\n  let {\n    allowedMethodsGET,\n    allowedMethodsPOST,\n    allowedMethodsPUT,\n    allowedMethodsPATCH,\n    allowedMethodsDELETE\n  } = _ref3;\n  return {\n    type: 'MethodAllowedList',\n    allowedMethods: [allowedMethodsGET && 'GET', allowedMethodsPOST && 'POST', allowedMethodsPUT && 'PUT', allowedMethodsPATCH && 'PATCH', allowedMethodsDELETE && 'DELETE'].filter(am => typeof am === 'string')\n  };\n};\nconst getAllowedReferersAttribute = _ref4 => {\n  let {\n    allowedReferrers\n  } = _ref4;\n  if (!allowedReferrers) {\n    return null;\n  }\n  return {\n    type: 'RefererAllowedList',\n    allowedReferrers: allowedReferrers.split('\\n').filter(referrer => referrer.trim() !== '')\n  };\n};\nconst GenerateTokenModal = _ref5 => {\n  let {\n    onGenerate,\n    onClose\n  } = _ref5;\n  const errorAlert = useAlert(_ref6 => {\n    let {\n      error\n    } = _ref6;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const [generateToken, {\n    loading\n  }] = useDataMutation(generateTokenMutation, {\n    onComplete: data => {\n      const {\n        uid: id,\n        key\n      } = data.response;\n      onGenerate({\n        id,\n        key\n      });\n      onClose();\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [context, setContext] = useState(null);\n  const handleGenerate = formParams => {\n    if (context === 'BROWSER' && !confirm(i18n.t('Personal access tokens should only be used in a browser context for public access instances. For private instances, tokens should be treated like passwords and be kept private  requests should instead be routed through a proxy.'))) {\n      return;\n    }\n    const params = {\n      expire: getExpire(formParams),\n      attributes: [getAllowedIpsAttribute(formParams), getAllowedMethodsAttribute(formParams), getAllowedReferersAttribute(formParams)].filter(a => a !== null)\n    };\n    generateToken(params);\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose,\n    large: true\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Generate new token')), /*#__PURE__*/React.createElement(ReactFinalForm.Form, {\n    onSubmit: handleGenerate\n  }, _ref7 => {\n    let {\n      handleSubmit,\n      valid,\n      values\n    } = _ref7;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ContextSelector, {\n      context: context,\n      setContext: setContext\n    }), context && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n      className: formStyles.header\n    }, i18n.t('Token details')), renderContext({\n      context,\n      values\n    }), /*#__PURE__*/React.createElement(AuthoritiesWarning, null))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n      end: true\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: onClose,\n      secondary: true\n    }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      onClick: handleSubmit,\n      disabled: !context || !valid,\n      loading: loading\n    }, i18n.t('Generate new token')))));\n  }));\n};\nGenerateTokenModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onGenerate: PropTypes.func.isRequired\n};\nexport default GenerateTokenModal;","// extracted by mini-css-extract-plugin\nexport default {\"heading\":\"PersonalAccessTokens_heading__fu0FX\",\"cardWrapper\":\"PersonalAccessTokens_cardWrapper__AWFwQ\",\"card\":\"PersonalAccessTokens_card__mezO0\"};","import { useState } from 'react';\nexport const useModal = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  return {\n    isVisible,\n    show: () => setIsVisible(true),\n    hide: () => setIsVisible(false)\n  };\n};","import { useDataMutation } from '@dhis2/app-runtime';\nimport { Button, ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst mutation = {\n  resource: 'apiToken',\n  type: 'delete',\n  id: _ref => {\n    let {\n      id\n    } = _ref;\n    return id;\n  }\n};\nconst ConfirmDeleteModal = _ref2 => {\n  let {\n    tokenId,\n    onClose,\n    onDelete\n  } = _ref2;\n  const [deleteToken, {\n    loading,\n    error\n  }] = useDataMutation(mutation, {\n    onComplete: () => {\n      onDelete();\n      onClose();\n    }\n  });\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose,\n    small: true\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Are you sure you want to delete this token?')), /*#__PURE__*/React.createElement(ModalContent, null, error && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Error deleting token')\n  }, error.message), i18n.t(`Any application or script using this token will no longer be able to access this instance's API. You cannot undo this action.`)), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: () => deleteToken({\n      id: tokenId\n    }),\n    loading: loading\n  }, i18n.t('Delete token')))));\n};\nConfirmDeleteModal.propTypes = {\n  tokenId: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired\n};\nexport default ConfirmDeleteModal;","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"ExistingToken_items__VbHIW\",\"item\":\"ExistingToken_item__3lC3R\",\"singleLineItem\":\"ExistingToken_singleLineItem__gbaJv ExistingToken_item__3lC3R\",\"itemTitle\":\"ExistingToken_itemTitle__tVg43\",\"itemValue\":\"ExistingToken_itemValue__sgDBT\",\"allowedMethods\":\"ExistingToken_allowedMethods__CsflS\",\"allowedList\":\"ExistingToken_allowedList__YUHPl\"};","import PropTypes from 'prop-types';\nconst TokenPropType = PropTypes.shape({\n  attributes: PropTypes.array.isRequired,\n  createdAt: PropTypes.instanceOf(Date).isRequired,\n  expiresAt: PropTypes.instanceOf(Date).isRequired,\n  id: PropTypes.string.isRequired,\n  key: PropTypes.string\n});\nexport default TokenPropType;","import { Tag, Tooltip } from '@dhis2/ui';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './ExistingToken.module.css';\nimport TokenPropType from './TokenPropType.js';\nconst getAttribute = (attributes, type, field) => {\n  const attribute = attributes.find(attribute => attribute.type === type);\n  if (!attribute) {\n    return null;\n  }\n  return attribute[field];\n};\nconst RelativeDateTime = _ref => {\n  let {\n    dateTime\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    content: dateTime.toISOString()\n  }, moment(dateTime).fromNow());\n};\nRelativeDateTime.propTypes = {\n  dateTime: PropTypes.instanceOf(Date).isRequired\n};\nconst Item = _ref2 => {\n  let {\n    title,\n    children,\n    singleLine\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: singleLine ? styles.singleLineItem : styles.item\n  }, /*#__PURE__*/React.createElement(\"dt\", {\n    className: styles.itemTitle\n  }, title), /*#__PURE__*/React.createElement(\"dd\", {\n    className: styles.itemValue\n  }, children));\n};\nItem.defaultProps = {\n  singleLine: false\n};\nItem.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n  singleLine: PropTypes.bool\n};\nconst ExistingToken = _ref3 => {\n  let {\n    token\n  } = _ref3;\n  const {\n    attributes,\n    createdAt,\n    expiresAt\n  } = token;\n  const allowedMethods = getAttribute(attributes, 'MethodAllowedList', 'allowedMethods');\n  const allowedIps = getAttribute(attributes, 'IpAllowedList', 'allowedIps');\n  const allowedReferrers = getAttribute(attributes, 'RefererAllowedList', 'allowedReferrers');\n  return /*#__PURE__*/React.createElement(\"dl\", {\n    className: styles.items\n  }, /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Expires'),\n    singleLine: true\n  }, /*#__PURE__*/React.createElement(RelativeDateTime, {\n    dateTime: expiresAt\n  })), /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Created'),\n    singleLine: true\n  }, /*#__PURE__*/React.createElement(RelativeDateTime, {\n    dateTime: createdAt\n  })), allowedMethods && /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Allowed HTTP methods')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.allowedMethods\n  }, allowedMethods.map(method => /*#__PURE__*/React.createElement(Tag, {\n    key: method,\n    positive: true\n  }, method)))), allowedIps && /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Allowed IP addresses')\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.allowedList\n  }, allowedIps.map(ip => /*#__PURE__*/React.createElement(\"li\", {\n    key: ip\n  }, ip)))), allowedReferrers && /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Allowed referrers')\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.allowedList\n  }, allowedReferrers.map(referrer => /*#__PURE__*/React.createElement(\"li\", {\n    key: referrer\n  }, referrer)))));\n};\nExistingToken.propTypes = {\n  token: TokenPropType.isRequired\n};\nexport default ExistingToken;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"NewToken_header__HdpQ6\",\"token\":\"NewToken_token__k7LJY\"};","import { useAlert } from '@dhis2/app-runtime';\nimport { Button, IconCopy16 } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './NewToken.module.css';\nimport TokenPropType from './TokenPropType.js';\nconst NewToken = _ref => {\n  let {\n    token\n  } = _ref;\n  const copiedAlert = useAlert(i18n.t('Copied token to clipboard'), {\n    success: true\n  });\n  const handleCopy = () => {\n    navigator.clipboard.writeText(token.key);\n    copiedAlert.show();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.header\n  }, i18n.t('Newly created token')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.token\n  }, token.key, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCopy,\n    icon: /*#__PURE__*/React.createElement(IconCopy16, null),\n    small: true\n  }, i18n.t('Copy to clipboard'))));\n};\nNewToken.propTypes = {\n  token: TokenPropType.isRequired\n};\nexport default NewToken;","// extracted by mini-css-extract-plugin\nexport default {\"token\":\"TokenCard_token__Gm2u2\",\"newToken\":\"TokenCard_newToken__cg4VR TokenCard_token__Gm2u2\",\"tokenData\":\"TokenCard_tokenData__c-tB5\"};","import { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { useModal } from '../use-modal.js';\nimport ConfirmDeleteModal from './ConfirmDeleteModal.component.js';\nimport ExistingToken from './ExistingToken.component.js';\nimport NewToken from './NewToken.component.js';\nimport styles from './TokenCard.module.css';\nimport TokenPropType from './TokenPropType.js';\nconst TokenCard = _ref => {\n  let {\n    token,\n    onDelete\n  } = _ref;\n  const confirmDeleteModal = useModal();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, confirmDeleteModal.isVisible && /*#__PURE__*/React.createElement(ConfirmDeleteModal, {\n    tokenId: token.id,\n    onClose: confirmDeleteModal.hide,\n    onDelete: onDelete\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: token.key ? styles.newToken : styles.token\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tokenData\n  }, token.key ? /*#__PURE__*/React.createElement(NewToken, {\n    token: token\n  }) : /*#__PURE__*/React.createElement(ExistingToken, {\n    token: token\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n    onClick: confirmDeleteModal.show\n  }, i18n.t('Delete')))));\n};\nTokenCard.propTypes = {\n  token: TokenPropType.isRequired,\n  onDelete: PropTypes.func.isRequired\n};\nexport default TokenCard;","// extracted by mini-css-extract-plugin\nexport default {\"copyTokenNotice\":\"TokensList_copyTokenNotice__V6IQO\",\"list\":\"TokensList_list__DJQPo\"};","import { CenteredContent, CircularLoader, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nimport TokenCard from './tokenCard/TokenCard.component.js';\nimport styles from './TokensList.module.css';\nconst TokensList = _ref => {\n  let {\n    loading,\n    error,\n    tokens,\n    onDelete\n  } = _ref;\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading personal access tokens')\n    }, error.message);\n  }\n  if (!tokens.length) {\n    return /*#__PURE__*/React.createElement(\"p\", null, i18n.t(`You don't have any active personal access tokens`));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, tokens.some(_ref2 => {\n    let {\n      key\n    } = _ref2;\n    return key;\n  }) ? /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.copyTokenNotice,\n    title: i18n.t(`You'll only be shown your token once`)\n  }, i18n.t(`Make sure to copy your personal access token now. You won't be able to see it again`)) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.list\n  }, tokens.map(token => /*#__PURE__*/React.createElement(TokenCard, {\n    key: token.id,\n    token: token,\n    onDelete: onDelete\n  }))));\n};\nTokensList.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  error: PropTypes.object,\n  loading: PropTypes.bool,\n  tokens: PropTypes.array\n};\nexport default TokensList;","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Card, Button } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../locales/index.js';\nimport userProfileStore from '../profile/profile.store.js';\nimport GenerateTokenModal from './generateTokenModal/GenerateTokenModal.component.js';\nimport styles from './PersonalAccessTokens.module.css';\nimport TokensList from './TokensList.component.js';\nimport { useModal } from './use-modal.js';\nconst query = {\n  tokens: {\n    resource: 'apiToken',\n    params: _ref => {\n      let {\n        userId\n      } = _ref;\n      return {\n        fields: ['id', 'created', 'expire', 'attributes'],\n        paging: false,\n        filter: `createdBy.id:eq:${userId}`\n      };\n    }\n  }\n};\nconst PersonalAccessTokens = () => {\n  const userId = userProfileStore.state.id;\n  const [tokenKeys, setTokenKeys] = useState(new Map());\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    variables: {\n      userId\n    }\n  });\n  const generateTokenModal = useModal();\n  const tokens = data === null || data === void 0 ? void 0 : data.tokens.apiToken.map(_ref2 => {\n    let {\n      id,\n      created,\n      expire,\n      attributes\n    } = _ref2;\n    return {\n      id,\n      attributes,\n      createdAt: new Date(created),\n      expiresAt: new Date(expire),\n      key: tokenKeys.get(id)\n    };\n  }).filter(_ref3 => {\n    let {\n      expiresAt\n    } = _ref3;\n    return expiresAt > new Date();\n  });\n  const handleGenerate = _ref4 => {\n    let {\n      id,\n      key\n    } = _ref4;\n    setTokenKeys(tokenKeys.set(id, key));\n    refetch();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, generateTokenModal.isVisible && /*#__PURE__*/React.createElement(GenerateTokenModal, {\n    onGenerate: handleGenerate,\n    onClose: generateTokenModal.hide\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-area\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.heading\n  }, i18n.t('Manage personal access tokens')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cardWrapper\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(TokensList, {\n    loading: loading,\n    error: error,\n    tokens: tokens,\n    onDelete: refetch\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: generateTokenModal.show\n  }, i18n.t('Generate new token'))))));\n};\nexport default PersonalAccessTokens;","import React from 'react';\nimport FormFields from '../layout/FormFields.component.js';\nimport i18n from '../locales/index.js';\nimport userProfileActions from './profile.actions.js';\nimport userProfileStore from './profile.store.js';\nfunction EditProfile() {\n  const fieldKeys = ['firstName', 'surname', 'email', 'emailVerification', 'phoneNumber', 'jobTitle', 'gender'];\n  const pageLabel = i18n.t('Edit user profile');\n  return /*#__PURE__*/React.createElement(FormFields, {\n    pageLabel: pageLabel,\n    fieldKeys: fieldKeys,\n    valueStore: userProfileStore,\n    onUpdateField: userProfileActions.save\n  });\n}\nexport default EditProfile;","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport log from 'loglevel';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport userSettingsStore from './userSettings.store.js';\nconst userSettingsActions = Action.createActionsFromNames(['save']);\nuserSettingsActions.save.subscribe(_ref => {\n  let {\n    data,\n    complete,\n    error\n  } = _ref;\n  const key = data[0];\n  const value = data[1] === 'null' || data[1] === 'system_default' ? null : data[1];\n  getD2().then(d2 => {\n    d2.currentUser.userSettings.set(key, value).then(() => {\n      userSettingsStore.state[key] = value;\n      userSettingsStore.setState(userSettingsStore.state);\n      log.debug('User Setting updated successfully.');\n      appActions.showSnackbarMessage({\n        message: i18n.t('Settings updated'),\n        status: 'success'\n      });\n      complete();\n    }).catch(err => {\n      userSettingsStore.setState(userSettingsStore.state);\n      log.warn('API call failed:', err);\n      appActions.showSnackbarMessage({\n        message: i18n.t('Failed to update settings'),\n        status: 'error'\n      });\n      error();\n    });\n  });\n});\nexport default userSettingsActions;","import React from 'react';\nimport FormFields from '../layout/FormFields.component.js';\nimport i18n from '../locales/index.js';\nimport userSettingsActions from './userSettings.actions.js';\nimport userSettingsStore from './userSettings.store.js';\nfunction EditProfile() {\n  const fieldKeys = ['keyUiLocale', 'keyDbLocale', 'keyStyle', 'keyAnalysisDisplayProperty', 'keyMessageEmailNotification', 'keyMessageSmsNotification'];\n  const pageLabel = i18n.t('Edit user settings');\n  return /*#__PURE__*/React.createElement(FormFields, {\n    pageLabel: pageLabel,\n    fieldKeys: fieldKeys,\n    valueStore: userSettingsStore,\n    onUpdateField: userSettingsActions.save\n  });\n}\nexport default EditProfile;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport AppTheme from '../layout/theme.js';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 300,\n    color: AppTheme.rawTheme.palette.textColor,\n    padding: '24px 0 12px 16px'\n  }\n};\nconst InfoHeader = _ref => {\n  let {\n    text\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.header\n  }, text);\n};\nInfoHeader.propTypes = {\n  text: PropTypes.string.isRequired\n};\nexport default InfoHeader;","import PropTypes from 'prop-types';\nimport React from 'react';\nconst InfoRow = _ref => {\n  let {\n    label,\n    value,\n    labelStyle\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"info-row\"\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"info-cell-name\",\n    style: labelStyle\n  }, label), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"info-cell-value\"\n  }, value));\n};\nInfoRow.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.node.isRequired,\n  labelStyle: PropTypes.object\n};\nInfoRow.defaultProps = {\n  labelStyle: {}\n};\nexport default InfoRow;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { Card, CardText } from 'material-ui/Card';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport settingsKeyMapping from '../userSettingsMapping.js';\nimport InfoHeader from './InfoHeader.component.js';\nimport InfoRow from './InfoRow.component.js';\nconst styles = {\n  card: {\n    marginTop: 8,\n    marginRight: '1rem',\n    padding: '0 1rem'\n  }\n};\nclass InfoCard extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      canRender: false\n    });\n  }\n  componentDidMount() {\n    Promise.all([this.props.valueStore.state.getUserRoles(), this.props.valueStore.state.getOrganisationUnits()]).then(response => {\n      this.userRoles = response[0];\n      this.userOrgUnits = response[1];\n      this.setState({\n        canRender: true\n      });\n    });\n  }\n  getUserOrgUnitsValue() {\n    const userOrgUnitsValues = [];\n    this.userOrgUnits.valuesContainerMap.forEach(value => userOrgUnitsValues.push(value.name));\n    return userOrgUnitsValues.join(', ');\n  }\n  getUserRolesValue() {\n    const userRolesValues = [];\n    this.userRoles.valuesContainerMap.forEach(value => userRolesValues.push(value.name));\n    return userRolesValues.join(', ');\n  }\n  getOptionTypeValue(labelName) {\n    const value = this.props.valueStore.state[labelName];\n    return value || value === false ? settingsKeyMapping[labelName].options[value] : 'null';\n  }\n  getBirthdayDateValue(dateValue) {\n    const birthday = new Date(dateValue);\n    // Silly Date class gives day of month from getDate() and getMonth() is based from 0-11.\n    // TODO: Use locale date formatting\n    return birthday.getDate() + '-' + (birthday.getMonth() + 1) + '-' + birthday.getFullYear();\n  }\n  getLabelValue(labelName, type) {\n    if (!this.labelExists(labelName, type)) {\n      return '';\n    }\n    const labelValue = String(this.props.valueStore.state[labelName]).trim();\n    switch (type) {\n      case 'textfield':\n        return labelValue;\n      case 'date':\n        return this.getBirthdayDateValue(this.props.valueStore.state[labelName]);\n      case 'dropdown':\n        return this.getOptionTypeValue(labelName);\n      case 'userOrgUnits':\n        return this.getUserOrgUnitsValue();\n      case 'userRoles':\n        return this.getUserRolesValue();\n      default:\n        return `${labelValue} value not found`;\n    }\n  }\n  getLabelComponent(labelName) {\n    const mapping = settingsKeyMapping[labelName];\n    const translatedLabelName = mapping.label;\n    const labelValue = this.getLabelValue(labelName, mapping.type);\n    return /*#__PURE__*/React.createElement(InfoRow, {\n      key: translatedLabelName,\n      label: translatedLabelName,\n      value: labelValue\n    });\n  }\n  getLabelComponents(labelNames) {\n    const labelComponents = labelNames.map(labelName => this.getLabelComponent(labelName));\n    return labelComponents;\n  }\n  labelExists(labelName, type) {\n    return this.props.valueStore.state && Object.prototype.hasOwnProperty.call(this.props.valueStore.state, labelName) || type === 'userRoles' || type === 'userOrgUnits';\n  }\n  renderLabels(labelNames) {\n    return /*#__PURE__*/React.createElement(Card, {\n      style: styles.card\n    }, /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"info-content\"\n    }, /*#__PURE__*/React.createElement(\"tbody\", null, this.getLabelComponents(labelNames)))));\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(InfoHeader, {\n      text: this.props.pageLabel\n    }), this.state.canRender && this.renderLabels(this.props.labelKeys));\n  }\n}\nInfoCard.propTypes = {\n  labelKeys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  pageLabel: PropTypes.string.isRequired,\n  valueStore: PropTypes.object.isRequired\n};\nexport default InfoCard;","import React from 'react';\nimport InfoCard from '../layout/InfoCard.component.js';\nimport i18n from '../locales/index.js';\nimport profileSettingsStore from '../profile/profile.store.js';\nfunction ViewProfile() {\n  const labelKeys = ['firstName', 'surname', 'gender', 'email', 'phoneNumber', 'jobTitle', 'userRoles'];\n  const pageLabel = i18n.t('View full profile');\n  return /*#__PURE__*/React.createElement(InfoCard, {\n    pageLabel: pageLabel,\n    labelKeys: labelKeys,\n    valueStore: profileSettingsStore\n  });\n}\nexport default ViewProfile;","import { DataProvider } from '@dhis2/app-runtime';\nimport { CssVariables } from '@dhis2/ui';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider.js';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Router, Route, hashHistory, Redirect } from 'react-router';\nimport Account from './account/Account.component.js';\nimport PasswordChangeSuccessDialog from './account/PasswordChangeSuccessDialog.js';\nimport TwoFactor from './account/twoFactor/TwoFactor.js';\nimport Snackbar from './layout/Snackbar.component.js';\nimport AppTheme from './layout/theme.js';\nimport PersonalAccessTokens from './personalAccessTokens/PersonalAccessTokens.component.js';\nimport Profile from './profile/Profile.component.js';\nimport UserSettings from './settings/UserSettings.component.js';\nimport ViewProfile from './viewProfile/ViewProfile.component.js';\nfunction WrappedApp(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrap\"\n  }, props.children);\n}\nWrappedApp.propTypes = {\n  children: PropTypes.any.isRequired,\n  routes: PropTypes.array.isRequired\n};\nclass AppRouter extends Component {\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      muiTheme: AppTheme\n    };\n  }\n  getDataProviderProps() {\n    const baseUrl = this.props.d2.system.systemInfo.contextPath;\n    const apiUrl = this.props.d2.system.settings.api.baseUrl;\n    const versionString = apiUrl.split('/').pop();\n    const apiVersion = isNaN(parseInt(versionString, 10)) ? '' : versionString;\n    return {\n      baseUrl,\n      apiVersion\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(DataProvider, this.getDataProviderProps(), /*#__PURE__*/React.createElement(CssVariables, {\n      colors: true,\n      spacers: true\n    }), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      muiTheme: AppTheme\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\"\n    }, /*#__PURE__*/React.createElement(Snackbar, null), /*#__PURE__*/React.createElement(Router, {\n      history: hashHistory\n    }, /*#__PURE__*/React.createElement(Route, {\n      component: WrappedApp\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"settings\",\n      component: UserSettings\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"profile\",\n      component: Profile\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"account\",\n      component: Account\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"twoFactor\",\n      component: TwoFactor\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"passwordChanged\",\n      component: PasswordChangeSuccessDialog\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"viewProfile\",\n      component: ViewProfile\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"personalAccessTokens\",\n      component: PersonalAccessTokens\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      from: \"/\",\n      to: \"/viewProfile\"\n    }))))));\n  }\n}\nAppRouter.propTypes = {\n  d2: PropTypes.object.isRequired\n};\nAppRouter.childContextTypes = {\n  d2: PropTypes.object,\n  muiTheme: PropTypes.object\n};\nexport default AppRouter;","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport log from 'loglevel';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { hashHistory } from 'react-router';\nimport AppRouter from './app.router.js';\nimport optionValueStore from './optionValue.store.js';\nimport userProfileStore from './profile/profile.store.js';\nimport userSettingsStore from './settings/userSettings.store.js';\nconst appActions = Action.createActionsFromNames(['init', 'setCategory', 'showSnackbarMessage' // Implemented in Snackbar.component.js\n]);\n\nappActions.init.subscribe(() => {\n  getD2().then(d2 => {\n    const api = d2.Api.getApi();\n    Promise.all([api.get('system/styles'), api.get('locales/ui'), api.get('locales/db'), api.get('userSettings', {\n      useFallback: false\n    }), d2.system.settings.all(), api.get('2fa/qr')]).then(results => {\n      const styles = (results[0] || []).map(style => ({\n        id: style.path,\n        displayName: style.name\n      }));\n      const uiLocales = (results[1] || []).map(locale => ({\n        id: locale.locale,\n        displayName: locale.name\n      }));\n      const dbLocales = (results[2] || []).map(locale => ({\n        id: locale.locale,\n        displayName: locale.name\n      }));\n      const systemDefault = Object.keys(results[4]).reduce((defaults, key) => {\n        defaults[key] = results[4][key];\n        return defaults;\n      }, {});\n      userProfileStore.setState(d2.currentUser);\n      userProfileStore.state.qrCodeUrl = results[5].url;\n      userSettingsStore.setState(results[3]);\n      optionValueStore.setState({\n        styles,\n        uiLocales,\n        dbLocales,\n        systemDefault\n      });\n      log.debug('Current user profile loaded:', userProfileStore.state);\n      log.debug('Current user settings loaded:', userSettingsStore.state);\n      ReactDOM.render( /*#__PURE__*/React.createElement(AppRouter, {\n        d2: d2\n      }), document.querySelector('#app'));\n    }, error => {\n      log.error('Failed to load user settings:', error);\n    });\n  });\n});\nappActions.setCategory.subscribe(_ref => {\n  let {\n    data: target\n  } = _ref;\n  hashHistory.push(`/${target}`);\n});\nexport default appActions;","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"App_sidebar__EbNVl\",\"ant-menu-item\":\"App_ant-menu-item__XNXWL\",\"container\":\"App_container__KkHQY\",\"heading\":\"App_heading__21opY\",\"ant-menu-item-selected\":\"App_ant-menu-item-selected__jWI03\",\"logo\":\"App_logo__h5EGN\",\"menu\":\"App_menu__Y4oQE\"};","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport log from 'loglevel';\nimport React from 'react';\nimport AppRouter from './app.router.js';\nimport optionValueStore from './optionValue.store.js';\nimport userProfileStore from './profile/profile.store.js';\nimport userSettingsStore from './settings/userSettings.store.js';\nimport './locales/index.js';\nimport './layout/app.css';\nimport 'material-design-icons-iconfont/dist/material-design-icons.css';\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2({\n    onInitialized: d2 => {\n      const api = d2.Api.getApi();\n      return Promise.all([api.get('system/styles'), api.get('locales/ui'), api.get('locales/db'), api.get('userSettings', {\n        useFallback: false\n      }), d2.system.settings.all(), api.get('2fa/enabled')]).then(results => {\n        const styles = (results[0] || []).map(style => ({\n          id: style.path,\n          displayName: style.name\n        }));\n        const uiLocales = (results[1] || []).map(locale => ({\n          id: locale.locale,\n          displayName: locale.name === locale.displayName ? locale.name : `${locale.name}  ${locale.displayName}`\n        }));\n        const dbLocales = (results[2] || []).map(locale => ({\n          id: locale.locale,\n          displayName: locale.name === locale.displayName ? locale.name : `${locale.name}  ${locale.displayName}`\n        }));\n        const systemDefault = {\n          ...results[4]\n        };\n\n        // Deleting this property because this is no longer valid\n        // it will be removed from the response object in the\n        // future, but until then, we remove it here...\n        delete d2.currentUser.twoFA;\n        userProfileStore.setState(d2.currentUser);\n        userProfileStore.state.twoFaEnabled = results[5];\n        userSettingsStore.setState(results[3]);\n        optionValueStore.setState({\n          styles,\n          uiLocales,\n          dbLocales,\n          systemDefault\n        });\n        log.debug('Current user profile loaded:', userProfileStore.state);\n        log.debug('Current user settings loaded:', userSettingsStore.state);\n      }, error => {\n        log.error('Failed to load user settings:', error);\n      });\n    }\n  });\n  if (!d2) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(AppRouter, {\n    d2: d2\n  });\n};\nexport default AppWrapper;","import { UserOutlined, SettingOutlined, LogoutOutlined, FormOutlined, DownloadOutlined, FileTextOutlined, AreaChartOutlined, MonitorOutlined, ImportOutlined, TeamOutlined, CheckCircleOutlined, BarsOutlined, MenuOutlined, EyeOutlined, ApartmentOutlined, HomeOutlined } from '@ant-design/icons';\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport { useEffect } from 'react';\nimport cacheBuster from './utils/cacheBuster';\nimport { Button, Layout, Menu, Dropdown, Tabs, Avatar } from 'antd';\nimport React, { useState } from 'react';\nimport appActions from './app.actions.js';\nimport classes from './App.module.css';\nimport AppWrapper from './AppWrapper.js';\nimport i18n from './locales/index.js';\nconst {\n  Sider,\n  Content\n} = Layout;\nconst ME_QUERY = {\n  me: {\n    resource: 'me',\n    params: {\n      fields: ['firstName', 'surname', 'email']\n    }\n  }\n};\nconst tabItems = [{\n  key: 'profile',\n  label: i18n.t('User profile')\n}, {\n  key: 'account',\n  label: i18n.t('Account settings')\n}, {\n  key: 'twoFactor',\n  label: i18n.t('Two factor authentication')\n}, {\n  key: 'viewProfile',\n  label: i18n.t('Full profile')\n}];\nconst Main = () => {\n  // Initialize cache buster when component mounts\n  useEffect(() => {\n    cacheBuster.initialize();\n  }, []);\n  const [collapsed, setCollapsed] = useState(false);\n  // Track the currently open submenu\n  const [openKeys, setOpenKeys] = useState(['3']);\n  const onOpenChange = keys => {\n    // Handle the case where we're opening nested submenus\n    const rootMenus = ['1', '2', '3', '4', '5']; // Root level menu keys\n    const currentRootKeys = keys.filter(key => rootMenus.includes(key));\n    const currentSubKeys = keys.filter(key => !rootMenus.includes(key));\n\n    // If we have multiple root keys open, keep only the most recent one\n    if (currentRootKeys.length > 1) {\n      const latestRootKey = currentRootKeys.find(key => openKeys.indexOf(key) === -1);\n      if (latestRootKey) {\n        // Close other root menus but keep the new one and its potential submenus\n        const newOpenKeys = [latestRootKey, ...currentSubKeys.filter(subKey => subKey.startsWith(latestRootKey + '.'))];\n        setOpenKeys(newOpenKeys);\n      } else {\n        // If closing a root menu, remove it and its submenus\n        setOpenKeys(keys);\n      }\n    } else {\n      // Normal case: just update with all keys\n      setOpenKeys(keys);\n    }\n  };\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(ME_QUERY);\n  if (loading) {\n    return null;\n  }\n  if (error) {\n    return null;\n  }\n  const {\n    firstName,\n    surname,\n    email: userEmail\n  } = data.me;\n  const email = `${userEmail}`;\n  const fullName = `${firstName} ${surname}`;\n  const initials = `${(firstName === null || firstName === void 0 ? void 0 : firstName[0]) || ''}${(surname === null || surname === void 0 ? void 0 : surname[0]) || ''}`;\n  const getSelectedKey = () => {\n    const currentUrl = window.location.hash;\n    if (currentUrl.includes('/profile')) {\n      return '9';\n    } else if (currentUrl.includes('/account')) {\n      return '10';\n    }\n    return '';\n  };\n\n  // Helper function to add cache version to URLs\n  const withCacheVersion = url => {\n    if (process.env.NODE_ENV === 'production') {\n      const separator = url.includes('?') ? '&' : '?';\n      return `${url}${separator}cv=${cacheBuster.CACHE_VERSION}`;\n    }\n    return url;\n  };\n  const profileMenu = /*#__PURE__*/React.createElement(Menu, {\n    selectedKeys: getSelectedKey()\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"9\",\n    icon: /*#__PURE__*/React.createElement(SettingOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: withCacheVersion(\"/sims-web-user-profile/#/profile\")\n  }, \"Settings\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"10\",\n    icon: /*#__PURE__*/React.createElement(UserOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: withCacheVersion(\"/sims-web-user-profile/#/account\")\n  }, \"Account\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"11\",\n    icon: /*#__PURE__*/React.createElement(LogoutOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/dhis-web-commons-security/logout.action\"\n  }, \"Logout\")));\n  const adminCentreItems = [{\n    key: '5.1',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-usage-analytics/\"\n    }, \"Usage Analytics\"),\n    icon: /*#__PURE__*/React.createElement(MonitorOutlined, null)\n  }, {\n    key: '5.2',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-user/\"\n    }, \"User Management\"),\n    icon: /*#__PURE__*/React.createElement(TeamOutlined, null)\n  }, {\n    key: '5.3',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-settings/\"\n    }, \"System Settings\"),\n    icon: /*#__PURE__*/React.createElement(SettingOutlined, null)\n  }];\n  const dataCollectionItems = [{\n    key: '3.1',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-capture/\"\n    }, \"Forms\"),\n    icon: /*#__PURE__*/React.createElement(FormOutlined, null)\n  }, {\n    key: '3.2',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-aggregate-data-entry/\"\n    }, \"Spreadsheets\"),\n    icon: /*#__PURE__*/React.createElement(FileTextOutlined, null)\n  }, {\n    key: '3.3',\n    label: /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/sims-web-import-export/\"\n    }, \"Data Import & Export\"),\n    icon: /*#__PURE__*/React.createElement(DownloadOutlined, null)\n  }];\n  return /*#__PURE__*/React.createElement(Layout, {\n    style: {\n      height: '100vh'\n    }\n  }, /*#__PURE__*/React.createElement(Sider, {\n    trigger: null,\n    collapsible: true,\n    width: \"20%\",\n    collapsedWidth: 80,\n    collapsed: collapsed,\n    onCollapse: collapsedState => setCollapsed(collapsedState),\n    breakpoint: \"lg\",\n    onBreakpoint: broken => setCollapsed(broken),\n    className: classes.sidebar,\n    style: {\n      padding: '10px 0',\n      transition: 'width 0.2s',\n      background: '#003D8F',\n      borderRight: '1px solid #d9d9d9',\n      overflow: 'hidden'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      background: '#003D8F',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '10px',\n      flexShrink: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.logo,\n    style: {\n      flexDirection: collapsed && 'column-reverse'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    className: \"\",\n    icon: /*#__PURE__*/React.createElement(MenuOutlined, {\n      fontSize: \"medium\"\n    }),\n    onClick: () => setCollapsed(!collapsed),\n    style: {\n      width: '16px',\n      height: '16px',\n      color: '#fff'\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + \"/sims-sidebar-logo.png\",\n    alt: \"SIMS\",\n    style: {\n      width: collapsed ? '30px' : '40px',\n      height: collapsed ? '30px' : '40px',\n      objectFit: 'cover',\n      transition: 'all 0.2s',\n      filter: \"brightness(0) invert(1)\"\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'auto',\n      overflowX: 'hidden',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    openKeys: openKeys,\n    onOpenChange: onOpenChange,\n    style: {\n      height: '100%',\n      overflowY: 'auto'\n    },\n    className: classes.menu // Apply the custom styles from the CSS module\n    ,\n    mode: \"inline\",\n    inlineCollapsed: collapsed\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"1\",\n    icon: /*#__PURE__*/React.createElement(HomeOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-app/\"\n  }, \"Home\")), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: \"2\",\n    icon: /*#__PURE__*/React.createElement(CheckCircleOutlined, null),\n    title: \"Activation\"\n  }, /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: \"2.1\",\n    title: \"Thematic Areas\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.1.1\",\n    icon: /*#__PURE__*/React.createElement(EyeOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/organisationUnitSection/organisationUnit\"\n  }, \"View Thematic Areas\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.1.2\",\n    icon: /*#__PURE__*/React.createElement(ApartmentOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/organisationUnitSection/hierarchy\"\n  }, \"Hierarchy Operations\"))), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.2\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/programSection/program\"\n  }, \"Programs\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.3\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/dataElementSection/dataElement\"\n  }, \"Data Elements\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2.4\",\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-maintenance/#/list/dataSetSection/dataSet\"\n  }, \"Data Sets\"))), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: '3',\n    icon: /*#__PURE__*/React.createElement(ImportOutlined, null),\n    title: \"Data Collection\"\n  }, dataCollectionItems.map(item => /*#__PURE__*/React.createElement(Menu.Item, {\n    key: item.key,\n    icon: item.icon\n  }, item.label))), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"4\",\n    icon: /*#__PURE__*/React.createElement(AreaChartOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/sims-web-dashboard/\"\n  }, \"Visualization\")), /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(Menu.SubMenu, {\n    key: '5',\n    icon: /*#__PURE__*/React.createElement(UserOutlined, null),\n    title: \"Admin Centre\",\n    style: {\n      marginTop: 'auto'\n    }\n  }, adminCentreItems.map(item => /*#__PURE__*/React.createElement(Menu.Item, {\n    key: item.key,\n    icon: item.icon\n  }, item.label))))), /*#__PURE__*/React.createElement(\"div\", null, profileMenu))), /*#__PURE__*/React.createElement(Layout, {\n    style: {\n      padding: 15,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '12px',\n      marginBottom: '10px'\n    }\n  }, /*#__PURE__*/React.createElement(UserOutlined, {\n    style: {\n      fontSize: 24,\n      color: '#5DA9E9'\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: classes.heading\n  }, \"User Profile Settings\")), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '14px',\n      marginTop: 4,\n      color: '#606060'\n    }\n  }, \"Manage User Profile Settings\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '10px'\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    tabBarGutter: 10,\n    size: \"large\",\n    type: \"card\",\n    items: tabItems,\n    onChange: appActions.setCategory\n  })), /*#__PURE__*/React.createElement(Content, {\n    style: {\n      minHeight: 0,\n      flexGrow: 1,\n      overflowY: 'auto',\n      margin: '15px',\n      paddingX: 15,\n      minHeight: 280,\n      border: '1px solid #D7D7D7',\n      background: '#fff',\n      borderRadius: '8px'\n    }\n  }, /*#__PURE__*/React.createElement(AppWrapper, null))));\n};\nexport default Main;"],"names":["CACHE_VERSION","VERSION_PARAM","async","clearCaches","window","cachePromises","caches","keys","filter","name","includes","map","delete","Promise","all","console","log","error","warn","unregisterServiceWorkers","navigator","registrations","serviceWorker","getRegistrations","registration","unregister","initialize","url","URL","location","href","currentVersion","searchParams","get","sessionStorage","setItem","scrollY","set","replace","toString","history","replaceState","getItem","resolve","setTimeout","clearKeys","i","localStorage","length","key","startsWith","push","forEach","removeItem","clear","clearStorages","catch","namespace","i18n","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","accountActions","Action","setPassword","subscribe","_ref","data","oldPassword","newPassword","onSuccess","complete","payload","getD2","then","d2","Api","getApi","update","appActions","err","message","status","permanent","oneDigit","oneUpperCase","oneSpecialCharacter","isValidPassword","value","test","_defineProperty","obj","arg","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","styles","notification","border","backgroundColor","padding","AccountEditor","Component","constructor","props","super","this","state","trim","setState","reNewPassword","formState","formBuilder","form","pristine","validating","valid","isNotEmpty","clearRepeatPassword","e","v","wrongOldPasswordText","render","usesOpenIdConnect","context","currentUser","externalAuth","fields","component","TextField","username","floatingLabelText","style","width","disabled","type","changeEvent","autoComplete","validators","validator","isSamePassword","FlatButton","label","onClick","openTwoFactorDialog","marginTop","secondary","RaisedButton","updatePassword","React","FormBuilder","onUpdateField","updateState","ref","r","contextTypes","PropTypes","Store","firstName","surname","avatar","gender","options","gender_male","gender_female","gender_other","email","emailVerification","phoneNumber","introduction","multiLine","jobTitle","userRoles","userOrgUnits","birthday","nationality","employer","education","interests","languages","whatsApp","facebookMessenger","skype","telegram","twitter","accountEditor","keyUiLocale","source","showSystemDefault","keyDbLocale","keyStyle","keyAnalysisDisplayProperty","shortName","keyMessageEmailNotification","true","false","keyMessageSmsNotification","AvatarEditor","_optionValueStore$sta","_optionValueStore$sta2","inputRef","node","onChange","file","event","target","files","maxSize","maxPhotoSize","size","userSettingsActions","loading","formData","FormData","append","imageId","api","post","response","fileResource","id","avatarSrc","parseAvatarSrc","getInputRef","optionValueStore","keyMaxAvatarSizeInMB","userId","avatarId","baseUrl","renderAvatar","className","src","alt","renderPlaceholder","CircularProgress","containerElement","icon","FileUpload","primary","onFileSelect","display","accept","setInputRef","ActionDelete","onRemoveIcon","theme","spacing","Spacing","fontFamily","palette","primary1Color","blue500","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","grey500","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","assign","forms","minWidth","maxWidth","formInput","fontWeight","sendEmailVerificationMutation","resource","emailRegExp","VerifyEmail","userEmail","errorAlert","useAlert","_ref2","critical","successAlert","_ref3","success","systemInfo","useConfig","mutateEmailVerification","mutationLoading","useDataMutation","onComplete","show","onError","emailConfigured","isValidEmail","alignItems","gap","Button","header","fontSize","color","AppTheme","card","marginRight","cardTitle","background","height","cardTitleText","noHits","userSettingsOverride","menuIcon","menuLabel","position","top","marginLeft","translateValidatorMessage","validatorMessage","createFieldBaseObject","fieldName","mapping","valueStore","hintText","valueString","prototype","hasOwnProperty","propsObject","baseValidators","wordToValidatorMap","getNameValidator","createField","userSettingsKeyMapping","fieldBase","createTextField","DatePicker","Date","dateFormat","userSettingsStore","textFieldStyle","allowFuture","createDateField","Checkbox","checked","createCheckBox","menuItems","displayName","slice","systemSettingValue","systemSettingLabel","x","unshift","SelectField","includeEmpty","emptyLabel","noOptionsLabel","createDropDown","createAccountEditor","createAvatarEditor","createVerifyButton","FormFields","componentDidMount","disposable","forceUpdate","componentWillUnmount","unsubscribe","renderFields","fieldNames","field","systemValue","actualSystemValue","systemValueLabel","find","item","systemDefaultLabel","WrappedComponent","labelStyle","wrapFieldWithLabel","Card","CardText","pageLabel","fieldKeys","PHONE_PATTERN","isValidWhatsApp","userProfileActions","save","date","toISOString","userProfileStore","Array","isArray","reduce","prev","curr","user","removeAvatar","getProfileUpdatePromise","reload","titleText","bodyText","buttonText","buttons","Dialog","title","actions","modal","open","TwoFactorDisableInstructions","keySeparator","TwoFactorDisableNoticeBox","NoticeBox","warning","PlayStoreLink","rel","AppStoreLink","QRCode","apiVersion","TwoFactorEnableInstructions","TwoFactorEnableNotice","IconQuestion16","TwoFactorIntroduction","isTwoFaEnabled","allDigitsRegex","getValidationText","hasErrorState","_error$message","toggleTwoFa","touched","setTouched","useState","twoFaConfirmationCode","setTwoFaConfirmationCode","isTwoFaConfirmationCodeValid","InputField","onBlur","validationText","required","inputWidth","code","mutationDefinitionBase","enableMutationDefinition","disableMutationDefinition","getAlertMessage","attemptingToEnableTwoFa","_error$message2","getAlertOptions","TwoFactor","lastActionWasTwoFaDisableSuccess","setIsTwoFaEnabled","setLastActionWasTwoFaDisableSuccess","showAlert","mutationOptions","useMemo","enableDataMutation","disableDataMutation","currentMutation","useEffect","subscription","_ref4","twoFaEnabled","fetching","useTwoFaToggleMutation","cx","TwoFactorStatus","TwoFactorToggler","messageStatus","neutral","SnackWrapper","arguments","snackbarMessage","showSnackbar","autoHideDuration","subscriptions","params","sub","Snackbar","bodyStyle","onRequestClose","closeSnackbar","query","authorities","AuthoritiesWarning","refetch","useDataQuery","CenteredContent","CircularLoader","small","authority","AllowedMethodsFF","ReactFinalForm","CheckboxFieldFF","initialValue","isValidUrl","parsedUrl","protocol","referrerValidator","referrers","split","referrer","AllowedReferrersFF","TextAreaFieldFF","helpText","rows","validate","today","moment","add","Error","futureDateValidator","expirationTimeOptions","renderExpirationDate","tokenExpirationDate","getTokenExpirationDate","format","values","SingleSelectFieldFF","hasValue","InputFieldFF","composeValidators","ExpirationDateFF","IconWarning16","nsSeparator","Context","children","selected","onSelect","Radio","dense","setContext","isValidIpAddress","ipAddress","ipRegex","exact","ipAddresesValidator","ipAddresses","AllowedIpsFF","generateTokenMutation","getExpire","formParams","expirationDate","customExpirationDate","getAllowedIpsAttribute","allowedIps","getAllowedMethodsAttribute","allowedMethodsGET","allowedMethodsPOST","allowedMethodsPUT","allowedMethodsPATCH","allowedMethodsDELETE","allowedMethods","am","getAllowedReferersAttribute","allowedReferrers","_ref5","onGenerate","onClose","_ref6","generateToken","uid","Modal","large","ModalTitle","onSubmit","confirm","expire","attributes","a","_ref7","handleSubmit","ModalContent","ContextSelector","formStyles","ServerForm","BrowserForm","renderContext","ModalActions","ButtonStrip","end","useModal","isVisible","setIsVisible","hide","mutation","tokenId","onDelete","deleteToken","destructive","createdAt","isRequired","expiresAt","getAttribute","attribute","RelativeDateTime","dateTime","Tooltip","content","fromNow","Item","singleLine","defaultProps","token","method","Tag","positive","ip","copiedAlert","handleCopy","clipboard","writeText","IconCopy16","confirmDeleteModal","ConfirmDeleteModal","NewToken","ExistingToken","tokens","some","TokenCard","paging","PersonalAccessTokens","tokenKeys","setTokenKeys","Map","variables","generateTokenModal","apiToken","created","GenerateTokenModal","TokensList","userSettings","text","InfoRow","InfoCard","canRender","getUserRoles","getOrganisationUnits","getUserOrgUnitsValue","userOrgUnitsValues","valuesContainerMap","join","getUserRolesValue","userRolesValues","getOptionTypeValue","labelName","settingsKeyMapping","getBirthdayDateValue","dateValue","getDate","getMonth","getFullYear","getLabelValue","labelExists","labelValue","getLabelComponent","translatedLabelName","getLabelComponents","labelNames","renderLabels","InfoHeader","labelKeys","profileSettingsStore","WrappedApp","AppRouter","getChildContext","getDataProviderProps","system","contextPath","versionString","settings","pop","isNaN","parseInt","DataProvider","CssVariables","colors","spacers","MuiThemeProvider","Router","hashHistory","Route","path","UserSettings","Profile","Account","PasswordChangeSuccessDialog","ViewProfile","Redirect","from","to","childContextTypes","init","useFallback","results","uiLocales","locale","dbLocales","systemDefault","defaults","ReactDOM","document","querySelector","setCategory","AppWrapper","useD2","onInitialized","twoFA","Sider","Content","Layout","ME_QUERY","me","tabItems","Main","cacheBuster","collapsed","setCollapsed","openKeys","setOpenKeys","withCacheVersion","separator","profileMenu","Menu","selectedKeys","getSelectedKey","currentUrl","hash","SettingOutlined","UserOutlined","LogoutOutlined","adminCentreItems","MonitorOutlined","TeamOutlined","dataCollectionItems","FormOutlined","FileTextOutlined","DownloadOutlined","trigger","collapsible","collapsedWidth","onCollapse","collapsedState","breakpoint","onBreakpoint","broken","classes","transition","borderRight","overflow","flexDirection","flexShrink","MenuOutlined","process","objectFit","overflowY","overflowX","onOpenChange","rootMenus","currentRootKeys","currentSubKeys","latestRootKey","indexOf","newOpenKeys","subKey","mode","inlineCollapsed","HomeOutlined","CheckCircleOutlined","BarsOutlined","EyeOutlined","ApartmentOutlined","ImportOutlined","AreaChartOutlined","marginBottom","Tabs","tabBarGutter","items","minHeight","flexGrow","margin","paddingX","borderRadius"],"sourceRoot":""}